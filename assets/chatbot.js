/* ========================================================================
   Ù‚Ù‡ÙˆØ© Ø£Ø¨Ùˆ Ø­ØµØ§Ù† â€” AI Drink Recommendation Bot
   Smart chatbot with drinks knowledge base, NLP pattern matching,
   localStorage persistence, and optional OpenAI API integration.
   ======================================================================== */

'use strict';

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   1. DRINKS KNOWLEDGE BASE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

const DrinksKB = {

  drinks: [
    // â”€â”€ Arabic Coffee â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
      id: 'arabic-coffee',
      name: 'Ù‚Ù‡ÙˆØ© Ø¹Ø±Ø¨ÙŠØ© Ø£ØµÙŠÙ„Ø©',
      emoji: 'â˜•',
      price: 12,
      category: 'arabic',
      caffeineLevel: 'Ù…ØªÙˆØ³Ø·',
      caffeineAmount: '60â€“80mg',
      temperature: 'hot',
      tags: ['ØªÙ‚Ù„ÙŠØ¯ÙŠ', 'Ù‡ÙŠÙ„', 'ØµØ¨Ø§Ø­ÙŠ', 'Ø¶ÙŠØ§ÙØ©', 'Ø£ØµÙŠÙ„'],
      benefits: [
        'ØºÙ†ÙŠ Ø¨Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„Ø£ÙƒØ³Ø¯Ø© Ø§Ù„ØªÙŠ ØªØ­Ø§Ø±Ø¨ Ø§Ù„Ø§Ù„ØªÙ‡Ø§Ø¨Ø§Øª',
        'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„ØªØ±ÙƒÙŠØ² ÙˆØ§Ù„ØªÙ†Ø¨Ù‡ Ø§Ù„Ø°Ù‡Ù†ÙŠ',
        'Ø§Ù„Ù‡ÙŠÙ„ ÙŠÙ‚ÙˆÙŠ Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ù†Ø§Ø¹Ø© ÙˆÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø¶Ù…',
        'ÙŠØ®ÙØ¶ Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ØªÙˆØªØ± Ø§Ù„Ù†ÙØ³ÙŠ',
        'ÙŠØ¯Ø¹Ù… ØµØ­Ø© Ø§Ù„Ù‚Ù„Ø¨ ÙˆØ§Ù„Ø£ÙˆØ¹ÙŠØ© Ø§Ù„Ø¯Ù…ÙˆÙŠØ©',
      ],
      bestFor: ['Ø§Ù„ØµØ¨Ø§Ø­ Ø§Ù„Ø¨Ø§ÙƒØ±', 'Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¶ÙŠÙˆÙ', 'Ø§Ù„ØªØ±ÙƒÙŠØ² ÙˆØ§Ù„Ø¹Ù…Ù„', 'Ø¨Ø¹Ø¯ Ø§Ù„Ø£ÙƒÙ„'],
      notFor: ['Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ… Ù…Ø¨Ø§Ø´Ø±Ø©', 'Ù…Ù† ÙŠØ¹Ø§Ù†ÙŠ Ù…Ù† Ø§Ø±ØªÙØ§Ø¹ Ø¶ØºØ· Ø§Ù„Ø¯Ù…'],
      desc: 'Ù‚Ù‡ÙˆØ© Ø¹Ø±Ø¨ÙŠØ© Ø£ØµÙŠÙ„Ø© Ù…Ø­Ø¶Ù‘Ø±Ø© Ù…Ù† Ø£Ø¬ÙˆØ¯ Ø­Ø¨ÙˆØ¨ Ø§Ù„Ø¨Ù† Ù…Ø¹ Ø§Ù„Ù‡ÙŠÙ„ Ø§Ù„Ø·Ø§Ø²Ø¬',
      story: 'Ø§Ù„Ù‚Ù‡ÙˆØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ØªØ±Ø§Ø« Ø£ØµÙŠÙ„ ÙŠÙ…ØªØ¯ Ù„Ù‚Ø±ÙˆÙ†ØŒ ØªØ±Ù…Ø² Ù„Ù„ÙƒØ±Ù… ÙˆØ§Ù„Ø¶ÙŠØ§ÙØ©',
      moods: ['ØªÙ‚Ù„ÙŠØ¯ÙŠ', 'Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ', 'Ù…Ù†ØªØ¬'],
    },
    {
      id: 'saffron-coffee',
      name: 'Ù‚Ù‡ÙˆØ© Ø¨Ø§Ù„Ø²Ø¹ÙØ±Ø§Ù†',
      emoji: 'ğŸŒ¸',
      price: 16,
      category: 'arabic',
      caffeineLevel: 'Ù…ØªÙˆØ³Ø·',
      caffeineAmount: '60â€“80mg',
      temperature: 'hot',
      tags: ['ÙØ§Ø®Ø±', 'Ø²Ø¹ÙØ±Ø§Ù†', 'Ù…Ø²Ø§Ø¬', 'Ø°Ø§ÙƒØ±Ø©', 'Ø´ØªÙˆÙŠ'],
      benefits: [
        'Ø§Ù„Ø²Ø¹ÙØ±Ø§Ù† ÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ù…Ø²Ø§Ø¬ ÙˆÙŠÙ‚Ù„Ù„ Ø§Ù„Ø§ÙƒØªØ¦Ø§Ø¨ Ø¨Ø´ÙƒÙ„ Ù…ÙˆØ«Ù‘Ù‚ Ø¹Ù„Ù…ÙŠØ§Ù‹',
        'ÙŠØ¹Ø²Ù‘Ø² Ø§Ù„Ø°Ø§ÙƒØ±Ø© ÙˆØ§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø¹Ø±ÙÙŠØ©',
        'Ù…Ø¶Ø§Ø¯ Ø·Ø¨ÙŠØ¹ÙŠ Ù‚ÙˆÙŠ Ù„Ù„Ø£ÙƒØ³Ø¯Ø©',
        'ÙŠØ®ÙÙ Ø§Ù„ØªÙˆØªØ± ÙˆØ§Ù„Ù‚Ù„Ù‚',
        'ÙŠØ­Ø³Ù‘Ù† Ø¬ÙˆØ¯Ø© Ø§Ù„Ù†ÙˆÙ…',
      ],
      bestFor: ['ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø²Ø§Ø¬', 'Ø§Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡', 'Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ø®Ø§ØµØ©', 'ÙØµÙ„ Ø§Ù„Ø´ØªØ§Ø¡'],
      notFor: ['Ø§Ù„Ø­Ø§Ù…Ù„ Ø¨ÙƒÙ…ÙŠØ§Øª ÙƒØ¨ÙŠØ±Ø©'],
      desc: 'Ù…Ø²ÙŠØ¬ ÙØ±ÙŠØ¯ Ù…Ù† Ø§Ù„Ù‚Ù‡ÙˆØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø²Ø¹ÙØ±Ø§Ù† Ø§Ù„Ø£ØµÙŠÙ„ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªØ¬Ø±Ø¨Ø© ÙØ§Ø®Ø±Ø©',
      story: 'Ø§Ù„Ø²Ø¹ÙØ±Ø§Ù† Ù…Ù„Ùƒ Ø§Ù„ØªÙˆØ§Ø¨Ù„ â€” ÙŠØ¶ÙŠÙ Ù„Ù…Ø³Ø© Ù…Ù„ÙƒÙŠØ© ÙˆÙÙˆØ§Ø¦Ø¯ ØµØ­ÙŠØ© Ù†Ø§Ø¯Ø±Ø© Ù„ÙƒÙ„ Ù‚Ø·Ø±Ø©',
      moods: ['Ù…Ù…ÙŠØ²', 'Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ', 'Ù‡Ø§Ø¯Ø¦'],
    },
    {
      id: 'dark-roast',
      name: 'Ù‚Ù‡ÙˆØ© Ø¯Ø§Ø±Ùƒ Ø±ÙˆØ³Øª',
      emoji: 'â˜•',
      price: 14,
      category: 'arabic',
      caffeineLevel: 'Ù…Ø±ØªÙØ¹',
      caffeineAmount: '100â€“130mg',
      temperature: 'hot',
      tags: ['Ù‚ÙˆÙŠ', 'Ø·Ø§Ù‚Ø©', 'Ù…ÙƒØ«Ù', 'ØªØ­Ù…ÙŠØµ Ø¹Ù…ÙŠÙ‚'],
      benefits: [
        'Ø·Ø§Ù‚Ø© ÙÙˆØ±ÙŠØ© ÙˆØªÙ†Ø¨Ù‘Ù‡ Ø³Ø±ÙŠØ¹ Ù„Ù„Ø°Ù‡Ù†',
        'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¨Ø¯Ù†ÙŠ ÙˆØ§Ù„Ø°Ù‡Ù†ÙŠ',
        'Ø£Ø¹Ù„Ù‰ Ù†Ø³Ø¨Ø© Ù…Ø¶Ø§Ø¯Ø§Øª Ø£ÙƒØ³Ø¯Ø© Ø¨ÙŠÙ† Ø§Ù„Ù‚Ù‡ÙˆØ© Ø§Ù„Ù…Ø­Ù…Ù‘ØµØ©',
        'ÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ ØªØ³Ø±ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ© Ø­Ø±Ù‚ Ø§Ù„Ø¯Ù‡ÙˆÙ†',
        'ÙŠØ­Ø³Ù‘Ù† ØµØ­Ø© Ø§Ù„ÙƒØ¨Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯Ù‰ Ø§Ù„Ø¨Ø¹ÙŠØ¯',
      ],
      bestFor: ['Ø§Ù„ØµØ¨Ø§Ø­ Ø§Ù„Ø¨Ø§ÙƒØ±', 'Ù‚Ø¨Ù„ Ø§Ù„ØªÙ…Ø±ÙŠÙ†', 'Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…ÙƒØ«Ù Ø§Ù„Ø·ÙˆÙŠÙ„', 'Ù…Ø­Ø¨ÙŠ Ø§Ù„Ù†ÙƒÙ‡Ø© Ø§Ù„Ù‚ÙˆÙŠØ©'],
      notFor: ['Ù…Ø±Ø¶Ù‰ Ø§Ù„Ù‚Ù„Ø¨', 'Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…', 'Ù…Ù† ÙŠØ¹Ø§Ù†ÙŠ Ù…Ù† Ø§Ù„Ù‚Ù„Ù‚ Ø§Ù„Ø´Ø¯ÙŠØ¯'],
      desc: 'Ø­Ø¨ÙˆØ¨ Ø¨Ù† Ù…Ø­Ù…Ù‘ØµØ© Ø¨Ø¹Ù…Ù‚ Ù„Ù†ÙƒÙ‡Ø© ØºÙ†ÙŠØ© ÙˆÙ‚ÙˆÙŠØ© Ù…Ø¹ Ø£Ø¹Ù„Ù‰ ØªØ±ÙƒÙŠØ² Ù„Ù„ÙƒØ§ÙÙŠÙŠÙ†',
      story: 'Ø§Ù„ØªØ­Ù…ÙŠØµ Ø§Ù„Ø¯Ø§ÙƒÙ† ÙŠØ­ÙˆÙ‘Ù„ Ø§Ù„Ø­Ø¨Ø© Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡ Ø¥Ù„Ù‰ ØªØ¬Ø±Ø¨Ø© ØºÙ†ÙŠØ© ÙˆØ¹Ù…ÙŠÙ‚Ø©',
      moods: ['Ù‚ÙˆÙŠ', 'Ù…Ù†ØªØ¬', 'Ù…Ø¨Ø§Ø¯Ø±'],
    },
    {
      id: 'turkish-coffee',
      name: 'Ù‚Ù‡ÙˆØ© ØªØ±ÙƒÙŠØ©',
      emoji: 'ğŸ«˜',
      price: 14,
      category: 'arabic',
      caffeineLevel: 'Ù…Ø±ØªÙØ¹',
      caffeineAmount: '80â€“120mg',
      temperature: 'hot',
      tags: ['ØªØ±ÙƒÙŠ', 'ØªÙ‚Ù„ÙŠØ¯ÙŠ', 'Ø±ØºÙˆØ©', 'Ø¯Ù„Ø©'],
      benefits: [
        'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„ØªØ±ÙƒÙŠØ² ÙˆØ§Ù„Ø§Ù†ØªØ¨Ø§Ù‡',
        'ÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø¶Ù… Ø¨Ø¹Ø¯ Ø§Ù„ÙˆØ¬Ø¨Ø§Øª Ø§Ù„Ø«Ù‚ÙŠÙ„Ø©',
        'ØºÙ†ÙŠ Ø¨Ø§Ù„Ø¨ÙˆÙ„ÙŠÙÙŠÙ†ÙˆÙ„ (Ù…Ø¶Ø§Ø¯Ø§Øª Ø£ÙƒØ³Ø¯Ø©)',
        'ÙŠÙ‚Ù„Ù„ Ø®Ø·Ø± Ø§Ù„Ø¥ØµØ§Ø¨Ø© Ø¨Ø§Ù„Ø³ÙƒØ±ÙŠ Ù…Ù† Ø§Ù„Ù†ÙˆØ¹ 2',
        'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ù…Ø²Ø§Ø¬ Ø§Ù„Ø¹Ø§Ù…',
      ],
      bestFor: ['Ø¨Ø¹Ø¯ Ø§Ù„Ø·Ø¹Ø§Ù…', 'Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¶ÙŠÙˆÙ', 'ÙˆÙ‚Øª Ø§Ù„Ø±Ø§Ø­Ø©', 'Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„ØªØ£Ù…Ù„'],
      notFor: ['Ù…Ù† Ù„Ø§ ÙŠØªØ­Ù…Ù„ Ø§Ù„Ø±ÙˆØ§Ø³Ø¨', 'Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…'],
      desc: 'Ù‚Ù‡ÙˆØ© Ù†Ø§Ø¹Ù…Ø© Ù…Ø·Ø­ÙˆÙ†Ø© ØªÙØ­Ø¶ÙÙ‘Ø± ÙÙŠ Ø§Ù„Ø¯Ù„Ø© Ø§Ù„ØªØ±ÙƒÙŠØ© Ù…Ø¹ Ø±ØºÙˆØ© ÙƒØ±ÙŠÙ…ÙŠØ© Ø±Ø§Ø¦Ø¹Ø©',
      story: 'ØªØ±Ø§Ø« Ø¹Ø±ÙŠÙ‚ Ø¹Ù…Ø±Ù‡ Ù‚Ø±ÙˆÙ†ØŒ ØªÙØ­Ø¶ÙÙ‘Ø± Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø®Ø§ØµØ© ÙÙŠ Ø¯Ù„Ø© Ø§Ù„Ù†Ø­Ø§Ø³',
      moods: ['ØªÙ‚Ù„ÙŠØ¯ÙŠ', 'Ù‡Ø§Ø¯Ø¦', 'Ù…ØªØ£Ù…Ù„'],
    },

    // â”€â”€ Espresso â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
      id: 'espresso-single',
      name: 'Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ù…ÙØ±Ø¯',
      emoji: 'â˜•',
      price: 12,
      category: 'espresso',
      caffeineLevel: 'Ù…Ø±ØªÙØ¹',
      caffeineAmount: '63mg',
      temperature: 'hot',
      tags: ['Ø³Ø±ÙŠØ¹', 'Ù…Ø±ÙƒÙ‘Ø²', 'Ø¥ÙŠØ·Ø§Ù„ÙŠ', 'Ù‚ÙˆÙŠ'],
      benefits: [
        'Ø£Ø³Ø±Ø¹ Ù…ØµØ¯Ø± Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ø°Ù‡Ù†',
        'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ Ø¨Ù†Ø³Ø¨Ø© Ù…Ù„Ø­ÙˆØ¸Ø©',
        'ÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ ØªØ³Ø±ÙŠØ¹ Ø­Ø±Ù‚ Ø§Ù„Ø¯Ù‡ÙˆÙ†',
        'Ø§Ù„Ø£ØºÙ†Ù‰ Ø¨Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„Ø£ÙƒØ³Ø¯Ø© Ù…Ù† Ø¨ÙŠÙ† Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù‚Ù‡ÙˆØ©',
        'ÙŠØ¯Ø¹Ù… ØµØ­Ø© Ø§Ù„ÙƒØ¨Ø¯',
      ],
      bestFor: ['Ø§Ù„ØµØ¨Ø§Ø­ Ø§Ù„Ø¨Ø§ÙƒØ±', 'Ù‚Ø¨Ù„ Ø§Ù„ØªÙ…Ø±ÙŠÙ†', 'Ù…Ù†ØªØµÙ Ø§Ù„ÙŠÙˆÙ…', 'Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…ÙƒØ«Ù'],
      notFor: ['Ù…Ù† ÙŠØ¹Ø§Ù†ÙŠ Ù…Ù† Ø­Ù…ÙˆØ¶Ø© Ø§Ù„Ù…Ø¹Ø¯Ø©', 'Ø§Ù„Ù‚Ù„Ù‚ Ø§Ù„Ø´Ø¯ÙŠØ¯'],
      desc: 'Ø¬Ø±Ø¹Ø© Ù…Ø±ÙƒÙ‘Ø²Ø© Ù…Ù† Ø§Ù„Ù‚Ù‡ÙˆØ© Ø§Ù„Ø¥ÙŠØ·Ø§Ù„ÙŠØ© â€” Ø§Ù„Ù‚ÙˆØ© ÙƒÙ„Ù‡Ø§ ÙÙŠ Ø«Ù„Ø§Ø«ÙŠÙ† Ù…Ù„ÙŠÙ„ØªØ±Ø§Ù‹',
      story: 'Ø§Ù„Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ø£ØµÙ„ ÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ù‚Ù‡ÙˆÙŠØ© Ø§Ù„Ø­Ø¯ÙŠØ«Ø©ØŒ ÙˆÙ„Ø¯ ÙÙŠ Ø¥ÙŠØ·Ø§Ù„ÙŠØ§ Ø¹Ø§Ù… 1901',
      moods: ['Ù…Ø±ÙƒÙ‘Ø²', 'Ø³Ø±ÙŠØ¹', 'Ù…Ø­ØªØ±Ù'],
    },
    {
      id: 'espresso-double',
      name: 'Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ù…Ø¶Ø§Ø¹Ù',
      emoji: 'â˜•',
      price: 15,
      category: 'espresso',
      caffeineLevel: 'Ù…Ø±ØªÙØ¹ Ø¬Ø¯Ø§Ù‹',
      caffeineAmount: '126mg',
      temperature: 'hot',
      tags: ['Ù‚ÙˆÙŠ Ø¬Ø¯Ø§Ù‹', 'Ù…Ø¶Ø§Ø¹Ù', 'Ø·Ø§Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©', 'Ù…ØªÙ…Ø±Ø³'],
      benefits: [
        'Ø·Ø§Ù‚Ø© Ù…ÙƒØ«ÙØ© ØªØ¯ÙˆÙ… Ù„Ø³Ø§Ø¹Ø§Øª',
        'Ø£Ø¹Ù„Ù‰ ØªØ±ÙƒÙŠØ² Ù…Ù† Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„Ø£ÙƒØ³Ø¯Ø©',
        'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ Ø¨Ø´ÙƒÙ„ Ù…Ù„Ø­ÙˆØ¸',
        'Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…Ù…ØªØ¯ Ù„Ø³Ø§Ø¹Ø§Øª Ø·ÙˆÙŠÙ„Ø©',
      ],
      bestFor: ['Ø§Ù„Ù„ÙŠØ§Ù„ÙŠ Ø§Ù„Ø·ÙˆÙŠÙ„Ø©', 'Ù‚Ø¨Ù„ Ø§Ø¬ØªÙ…Ø§Ø¹ Ù…Ù‡Ù…', 'Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…ÙƒØ«Ù Ø¬Ø¯Ø§Ù‹'],
      notFor: ['Ù…Ø±Ø¶Ù‰ Ø§Ù„Ù‚Ù„Ø¨', 'Ø§Ù„Ø­Ø§Ù…Ù„', 'Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ… Ø¨Ù€6 Ø³Ø§Ø¹Ø§Øª', 'Ø§Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†'],
      desc: 'Ø¬Ø±Ø¹ØªØ§Ù† Ù…Ù† Ø§Ù„Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ ÙÙŠ ÙƒÙˆØ¨ ÙˆØ§Ø­Ø¯ Ù„Ø£Ù‚ØµÙ‰ Ø¯Ø±Ø¬Ø§Øª Ø§Ù„ØªÙ†Ø¨Ù‘Ù‡',
      story: 'Ù„Ù„Ù…Ø­ØªØ±ÙÙŠÙ† Ø§Ù„Ø°ÙŠÙ† ÙŠØ­ØªØ§Ø¬ÙˆÙ† Ø£ÙƒØ«Ø± Ù…Ù† Ù…Ø¬Ø±Ø¯ Ø¨Ø¯Ø§ÙŠØ©',
      moods: ['Ù…ÙƒØ«Ù', 'Ù…Ø³ØªØ¹Ø¬Ù„', 'Ù…ØªÙ…Ø±Ø³'],
    },
    {
      id: 'latte',
      name: 'ÙƒØ§ÙÙŠÙ‡ Ù„Ø§ØªÙŠÙ‡',
      emoji: 'ğŸ¥›',
      price: 18,
      category: 'espresso',
      caffeineLevel: 'Ù…ØªÙˆØ³Ø·',
      caffeineAmount: '63â€“126mg',
      temperature: 'hot',
      tags: ['ÙƒØ±ÙŠÙ…ÙŠ', 'Ø­Ù„ÙŠØ¨', 'Ù†Ø§Ø¹Ù…', 'ÙŠÙˆÙ…ÙŠ', 'Ù…Ø¨ØªØ¯Ø¦'],
      benefits: [
        'ÙŠØ¬Ù…Ø¹ ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ù…Ø¹ ÙƒØ§Ù„Ø³ÙŠÙˆÙ… Ø§Ù„Ø­Ù„ÙŠØ¨',
        'Ø£Ù‚Ù„ Ø­Ù…ÙˆØ¶Ø© Ù…Ù† Ø§Ù„Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±',
        'ÙŠÙ…Ø¯ Ø§Ù„Ø¬Ø³Ù… Ø¨Ø§Ù„Ø¨Ø±ÙˆØªÙŠÙ† Ù…Ù† Ø§Ù„Ø­Ù„ÙŠØ¨',
        'Ù†ÙƒÙ‡Ø© Ù†Ø§Ø¹Ù…Ø© Ù„Ù…Ù† ÙŠØ¨Ø¯Ø£ Ø±Ø­Ù„ØªÙ‡ Ù…Ø¹ Ø§Ù„Ù‚Ù‡ÙˆØ©',
        'Ø·Ø§Ù‚Ø© Ù…ØªÙˆØ§Ø²Ù†Ø© Ø¯ÙˆÙ† Ø¥ÙØ±Ø§Ø·',
      ],
      bestFor: ['Ø§Ù„ØµØ¨Ø§Ø­', 'Ø§Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† ÙÙŠ Ø§Ù„Ù‚Ù‡ÙˆØ©', 'ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡', 'Ø§Ù„Ø¬Ùˆ Ø§Ù„Ø¨Ø§Ø±Ø¯'],
      notFor: ['Ø­Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ù„Ø§ÙƒØªÙˆØ² (ÙŠÙ…ÙƒÙ† Ø·Ù„Ø¨ Ø­Ù„ÙŠØ¨ Ù†Ø¨Ø§ØªÙŠ Ø¨Ø¯Ù„Ø§Ù‹)'],
      desc: 'Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ù†Ø§Ø¹Ù… Ù…Ø¹ Ø­Ù„ÙŠØ¨ Ù…ÙØ¨Ø®ÙÙ‘Ø± ÙƒØ±ÙŠÙ…ÙŠ ÙˆØ·Ø¨Ù‚Ø© Ø±ØºÙˆØ© Ø®ÙÙŠÙØ©',
      story: 'Ø§Ù„Ù„Ø§ØªÙŠÙ‡ â€” Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø¥ÙŠØ·Ø§Ù„ÙŠØ© Ù„Ù„Ø­Ù„ÙŠØ¨ â€” Ù…Ù† Ø£ÙƒØ«Ø± Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù… Ø´Ø¹Ø¨ÙŠØ©',
      moods: ['Ù†Ø§Ø¹Ù…', 'Ù‡Ø§Ø¯Ø¦', 'ÙŠÙˆÙ…ÙŠ'],
    },
    {
      id: 'cappuccino',
      name: 'ÙƒØ§Ø¨ØªØ´ÙŠÙ†Ùˆ',
      emoji: 'â˜•',
      price: 18,
      category: 'espresso',
      caffeineLevel: 'Ù…ØªÙˆØ³Ø·',
      caffeineAmount: '63â€“126mg',
      temperature: 'hot',
      tags: ['Ø±ØºÙˆØ©', 'Ù…ØªÙˆØ§Ø²Ù†', 'Ø¥ÙŠØ·Ø§Ù„ÙŠ', 'ÙƒÙ„Ø§Ø³ÙŠÙƒ'],
      benefits: [
        'ØªÙˆØ§Ø²Ù† Ù…Ø«Ø§Ù„ÙŠ Ø¨ÙŠÙ† Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ù†Ø¹ÙˆÙ…Ø©',
        'ÙƒØ§Ù„Ø³ÙŠÙˆÙ… Ù…Ù† Ø§Ù„Ø­Ù„ÙŠØ¨ Ø§Ù„Ù…ÙØ¨Ø®ÙÙ‘Ø±',
        'Ø·Ø§Ù‚Ø© Ù…ØªÙˆØ§Ø²Ù†Ø© Ø¯ÙˆÙ† Ø¥ÙØ±Ø§Ø·',
        'ÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¹ÙˆØ± Ø¨Ø§Ù„Ø´Ø¨Ø¹',
        'Ù…ÙÙŠØ¯ Ù„Ù„ØªØ±ÙƒÙŠØ² ÙˆØ§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©',
      ],
      bestFor: ['Ø§Ù„Ø¥ÙØ·Ø§Ø±', 'Ø§Ù„Ù„Ù‚Ø§Ø¡Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©', 'Ø§Ø³ØªØ±Ø§Ø­Ø© Ø§Ù„Ø¶Ø­Ù‰', 'Ù…Ø­Ø¨ÙŠ Ø§Ù„Ø±ØºÙˆØ©'],
      notFor: ['Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø© 3 Ø¹ØµØ±Ø§Ù‹ (Ù„Ù„Ø­Ø³Ø§Ø³ÙŠÙ† Ù„Ù„ÙƒØ§ÙÙŠÙŠÙ†)'],
      desc: 'Ø«Ù„Ø« Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ + Ø«Ù„Ø« Ø­Ù„ÙŠØ¨ + Ø«Ù„Ø« Ø±ØºÙˆØ© ÙƒØ±ÙŠÙ…ÙŠØ© â€” Ø§Ù„ØªÙˆØ§Ø²Ù† Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ',
      story: 'Ø³ÙÙ…Ù‘ÙŠ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù… Ù†Ø³Ø¨Ø© Ù„Ù„Ø±Ù‡Ø¨Ø§Ù† Ø§Ù„ÙƒØ¨ÙˆØ´ÙŠÙŠÙ† Ø¨Ø³Ø¨Ø¨ Ù„ÙˆÙ†Ù‡ Ø§Ù„Ø¨Ù†ÙŠ Ø§Ù„ØºØ§Ù…Ù‚',
      moods: ['ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ', 'Ù…ØªÙˆØ§Ø²Ù†', 'Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ'],
    },
    {
      id: 'mocha',
      name: 'Ù…ÙˆÙƒØ§',
      emoji: 'ğŸ«',
      price: 20,
      category: 'espresso',
      caffeineLevel: 'Ù…ØªÙˆØ³Ø·',
      caffeineAmount: '63â€“126mg',
      temperature: 'hot',
      tags: ['Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©', 'Ø­Ù„Ùˆ', 'ÙƒØ±ÙŠÙ…ÙŠ', 'Ù…Ø²Ø§Ø¬', 'ØªØ¯Ù„ÙŠÙ„'],
      benefits: [
        'Ø§Ù„Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ© Ø§Ù„Ø¯Ø§ÙƒÙ†Ø© ØªØ­Ø³Ù‘Ù† Ø§Ù„Ù…Ø²Ø§Ø¬ Ø¹Ø¨Ø± Ù‡Ø±Ù…ÙˆÙ† Ø§Ù„Ø³ÙŠØ±ÙˆØªÙˆÙ†ÙŠÙ†',
        'Ù…Ø¶Ø§Ø¯Ø§Øª Ø£ÙƒØ³Ø¯Ø© Ù…Ù† Ø§Ù„Ù‚Ù‡ÙˆØ© ÙˆØ§Ù„ÙƒØ§ÙƒØ§Ùˆ Ù…Ø¹Ø§Ù‹',
        'ÙŠØ±ÙØ¹ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø·Ø§Ù‚Ø© Ø¨Ø´ÙƒÙ„ Ù„Ø·ÙŠÙ',
        'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„ØªØ±ÙƒÙŠØ² ÙˆØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø²Ø§Ø¬',
        'ØªØ¬Ø±Ø¨Ø© Ø­Ø³ÙŠØ© Ù…Ø­Ø¨Ù‘Ø¨Ø© ØªØ¨Ù‡Ø¬ Ø§Ù„Ù†ÙØ³',
      ],
      bestFor: ['Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¹Ø§Ø·ÙÙŠØ©', 'Ù…Ø­Ø¨ÙŠ Ø§Ù„Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©', 'Ø§Ù„ØªØ¯Ù„ÙŠÙ„ ÙˆØ§Ù„Ø¯ÙØ¡', 'Ù‡Ø¯ÙŠØ© Ù„Ù„Ù†ÙØ³'],
      notFor: ['Ù…Ù† ÙŠØ±Ø§Ù‚Ø¨ Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©', 'Ù…Ø±Ø¶Ù‰ Ø§Ù„Ø³ÙƒØ±ÙŠ'],
      desc: 'Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ù…Ø¹ Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ© Ø¯Ø§ÙƒÙ†Ø© ÙˆØ­Ù„ÙŠØ¨ Ù…ÙØ¨Ø®ÙÙ‘Ø± ÙˆÙƒØ±ÙŠÙ…Ø© â€” Ø¯Ù„Ø§Ù„ ÙÙŠ ÙƒÙˆØ¨',
      story: 'Ù…ÙˆÙƒØ§ Ø§Ø³Ù… Ù…ÙŠÙ†Ø§Ø¡ ÙŠÙ…Ù†ÙŠ Ø§Ø´ØªÙÙ‡Ø± Ø¨ØªØµØ¯ÙŠØ± Ø§Ù„Ù‚Ù‡ÙˆØ© Ø§Ù„Ù…Ù…ÙŠØ²Ø© Ù„Ø£ÙˆØ±ÙˆØ¨Ø§',
      moods: ['Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ', 'Ø¯Ø§ÙØ¦', 'Ù…Ø²Ø§Ø¬ÙŠ'],
    },
    {
      id: 'americano',
      name: 'Ø£Ù…Ø±ÙŠÙƒØ§Ù†Ùˆ',
      emoji: 'â˜•',
      price: 12,
      category: 'espresso',
      caffeineLevel: 'Ù…ØªÙˆØ³Ø·â€“Ù…Ø±ØªÙØ¹',
      caffeineAmount: '60â€“120mg',
      temperature: 'hot',
      tags: ['Ø®ÙÙŠÙ', 'Ø·ÙˆÙŠÙ„', 'ÙŠÙˆÙ…ÙŠ', 'Ø­Ù…ÙŠØ©'],
      benefits: [
        'Ù†ÙƒÙ‡Ø© Ù‚Ù‡ÙˆØ© ÙƒØ§Ù…Ù„Ø© Ø¨Ø­Ù…ÙˆØ¶Ø© Ø£Ù‚Ù„',
        'Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø´Ø±Ø¨ Ø·ÙˆØ§Ù„ Ø§Ù„ÙŠÙˆÙ…',
        'ÙÙˆØ§Ø¦Ø¯ Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„Ø£ÙƒØ³Ø¯Ø© Ù…Ø¹ ØªØ±Ø·ÙŠØ¨ Ø¥Ø¶Ø§ÙÙŠ',
        'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„ØªØ±ÙƒÙŠØ² Ù„ÙØªØ±Ø§Øª Ø£Ø·ÙˆÙ„',
        'Ù…Ù†Ø®ÙØ¶ Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©',
      ],
      bestFor: ['Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠ', 'Ø§Ù„Ø´Ø±Ø¨ Ø§Ù„Ù…Ù…ØªØ¯', 'Ù…Ù† ÙŠÙØ¶Ù„ Ù†ÙƒÙ‡Ø© Ù…Ø¹ØªØ¯Ù„Ø©', 'Ø§Ù„Ø­Ù…ÙŠØ©'],
      notFor: [],
      desc: 'Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ù…Ù…Ø¯ÙˆØ¯ Ø¨Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„Ø³Ø§Ø®Ù† Ù„ØªØ¬Ø±Ø¨Ø© Ù‚Ù‡ÙˆØ© Ø®ÙÙŠÙØ© ÙˆÙ…Ù†Ø¹Ø´Ø©',
      story: 'Ø§Ø¨ØªÙÙƒØ± Ø®Ù„Ø§Ù„ Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø­ÙŠÙ† Ø·Ù„Ø¨ Ø§Ù„Ø¬Ù†ÙˆØ¯ Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠÙˆÙ† Ù‚Ù‡ÙˆØ© Ø®ÙÙŠÙØ©',
      moods: ['Ø¹Ù…Ù„ÙŠ', 'Ø¨Ø³ÙŠØ·', 'ÙŠÙˆÙ…ÙŠ'],
    },
    {
      id: 'flat-white',
      name: 'ÙÙ„Ø§Øª ÙˆØ§ÙŠØª',
      emoji: 'â˜•',
      price: 20,
      category: 'espresso',
      caffeineLevel: 'Ù…ØªÙˆØ³Ø·â€“Ù…Ø±ØªÙØ¹',
      caffeineAmount: '130mg',
      temperature: 'hot',
      tags: ['Ø£Ø³ØªØ±Ø§Ù„ÙŠ', 'ÙƒØ±ÙŠÙ…ÙŠ', 'Ù…ÙƒØ«Ù', 'Ù…ØªÙ…Ø±Ø³'],
      benefits: [
        'Ù†ÙƒÙ‡Ø© Ù‚Ù‡ÙˆØ© Ù…ÙƒØ«ÙØ© Ù…Ø¹ Ù†Ø¹ÙˆÙ…Ø© Ø§Ù„Ø­Ù„ÙŠØ¨',
        'ÙƒØ§Ù„Ø³ÙŠÙˆÙ… Ø¹Ø§Ù„Ù Ù…Ù† Ø§Ù„Ø­Ù„ÙŠØ¨',
        'ØªÙˆØ§Ø²Ù† Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø·Ø§Ù‚Ø©',
        'Ø£Ù‚Ù„ Ø­Ø¬Ù…Ø§Ù‹ ÙˆÙ„ÙƒÙ† Ø£ÙƒØ«Ø± ØªØ±ÙƒÙŠØ²Ø§Ù‹ Ù…Ù† Ø§Ù„Ù„Ø§ØªÙŠÙ‡',
      ],
      bestFor: ['Ù…Ø­Ø¨ÙŠ Ø§Ù„ÙƒØ«Ø§ÙØ© ÙˆØ§Ù„Ù†Ø¹ÙˆÙ…Ø© Ù…Ø¹Ø§Ù‹', 'Ø§Ù„ØµØ¨Ø§Ø­ Ø§Ù„Ù…Ø¨ÙƒØ±', 'Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹Ø§Øª'],
      notFor: [],
      desc: 'Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ù…Ø²Ø¯ÙˆØ¬ Ù…Ø¹ Ø­Ù„ÙŠØ¨ Ù…ÙØ¨Ø®ÙÙ‘Ø± ÙƒØ«ÙŠÙ Ø¨Ø¯ÙˆÙ† Ø±ØºÙˆØ© â€” Ø§Ù„Ø£Ù†Ø§Ù‚Ø© Ø§Ù„Ø£Ø³ØªØ±Ø§Ù„ÙŠØ©',
      story: 'Ù…Ù† Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§ ÙˆÙ†ÙŠÙˆØ²ÙŠÙ„Ù†Ø¯Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø§Ù„Ù… â€” Ø§Ù„ÙÙ„Ø§Øª ÙˆØ§ÙŠØª ÙŠÙƒØ³Ø¨ Ø¬Ù…Ù‡ÙˆØ±Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹ ÙŠÙˆÙ…ÙŠØ§Ù‹',
      moods: ['Ø£Ù†ÙŠÙ‚', 'Ù…Ø±ÙƒÙ‘Ø²', 'Ø±Ø§Ù‚Ù'],
    },

    // â”€â”€ Cold Beverages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
      id: 'iced-coffee',
      name: 'Ù‚Ù‡ÙˆØ© Ø¨Ø§Ø±Ø¯Ø© Ù…Ø«Ù„Ù‘Ø¬Ø©',
      emoji: 'ğŸ§Š',
      price: 20,
      category: 'cold',
      caffeineLevel: 'Ù…ØªÙˆØ³Ø·',
      caffeineAmount: '60â€“100mg',
      temperature: 'cold',
      tags: ['Ø¨Ø§Ø±Ø¯', 'Ù…Ù†Ø¹Ø´', 'ØµÙŠÙÙŠ', 'Ù…Ø«Ù„Ø¬'],
      benefits: [
        'Ù…Ù†Ø¹Ø´ ÙˆÙ…Ù†Ø´Ù‘Ø· ÙÙŠ Ø§Ù„Ø£Ø¬ÙˆØ§Ø¡ Ø§Ù„Ø­Ø§Ø±Ø©',
        'ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ù‚Ù‡ÙˆØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù…Ø¹ Ø¥Ø­Ø³Ø§Ø³ Ø§Ù„Ø§Ù†ØªØ¹Ø§Ø´',
        'Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„Ø£ÙƒØ³Ø¯Ø© Ù…Ø­Ø§ÙØ¸Ø© Ø¹Ù„Ù‰ Ù‚ÙŠÙ…ØªÙ‡Ø§',
        'ÙŠØ±ÙØ¹ Ø§Ù„Ø·Ø§Ù‚Ø© ÙÙŠ Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ø´Ø¯ÙŠØ¯Ø©',
      ],
      bestFor: ['Ø§Ù„ØµÙŠÙ ÙˆØ§Ù„Ø£Ø¬ÙˆØ§Ø¡ Ø§Ù„Ø­Ø§Ø±Ø©', 'Ø¨Ø¹Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠÙ†', 'Ø§Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡', 'Ø§Ù„Ø¹Ù…Ù„ ÙÙŠ Ù…ÙƒØ§Ù† Ù…ØºÙ„Ù‚'],
      notFor: ['Ù…Ù† ÙŠØ¹Ø§Ù†ÙŠ Ù…Ù† Ø­Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ø¨Ø±Ø¯'],
      desc: 'Ù‚Ù‡ÙˆØ© Ù…ÙØ¨Ø±ÙÙ‘Ø¯Ø© Ø¹Ù„Ù‰ Ø«Ù„Ø¬ Ù…Ø­Ø¨Ø¨ Ù„ØªØ¬Ø±Ø¨Ø© Ù…Ù†Ø¹Ø´Ø© ÙˆÙ…Ù†Ø¨Ù‡Ø© ÙÙŠ Ø¢Ù†Ù ÙˆØ§Ø­Ø¯',
      story: 'Ø§Ù„ØªØ±Ø·ÙŠØ¨ ÙˆØ§Ù„Ø·Ø§Ù‚Ø© ÙÙŠ ÙƒØ£Ø³ ÙˆØ§Ø­Ø¯ â€” Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø£Ø¬ÙˆØ§Ø¡ Ø§Ù„Ø¯Ø§ÙØ¦Ø©',
      moods: ['Ù…Ù†Ø¹Ø´', 'ØµÙŠÙÙŠ', 'Ù†Ø´ÙŠØ·'],
    },
    {
      id: 'caramel-frappe',
      name: 'ÙØ±Ø§Ø¨ÙŠÙ‡ ÙƒØ±Ø§Ù…ÙŠÙ„',
      emoji: 'ğŸ®',
      price: 22,
      category: 'cold',
      caffeineLevel: 'Ù…ØªÙˆØ³Ø·',
      caffeineAmount: '60â€“90mg',
      temperature: 'cold',
      tags: ['ÙƒØ±Ø§Ù…ÙŠÙ„', 'Ø­Ù„Ùˆ', 'Ø«Ù„Ø¬ÙŠ', 'ÙƒØ±ÙŠÙ…Ø©', 'Ù…ÙƒØ§ÙØ£Ø©'],
      benefits: [
        'Ø·Ø§Ù‚Ø© Ù„Ø·ÙŠÙØ© Ù…Ø¹ Ù†ÙƒÙ‡Ø© Ø­Ù„ÙˆØ© ØªØ¨Ù‡Ø¬ Ø§Ù„Ù†ÙØ³',
        'ÙŠØ±ÙØ¹ Ø§Ù„Ù…Ø²Ø§Ø¬ Ø¹Ø¨Ø± Ø§Ù„Ø³ÙƒØ±ÙŠØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©',
        'ØªØ¬Ø±Ø¨Ø© Ø­Ø³ÙŠØ© Ù…Ù…ØªØ¹Ø©',
        'Ù…Ø«Ø§Ù„ÙŠ ÙƒÙ…ÙƒØ§ÙØ£Ø© ÙŠÙˆÙ…ÙŠØ© Ø¨Ø¹Ø¯ ÙŠÙˆÙ… Ù…Ø«Ù…Ø±',
      ],
      bestFor: ['Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©', 'Ù…Ø­Ø¨ÙŠ Ø§Ù„Ø­Ù„Ùˆ', 'Ø§Ù„Ù„Ù‚Ø§Ø¡Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©', 'Ø§Ù„Ø£Ø¬ÙˆØ§Ø¡ Ø§Ù„Ø­Ø§Ø±Ø©'],
      notFor: ['Ù…Ø±Ø¶Ù‰ Ø§Ù„Ø³ÙƒØ±ÙŠ', 'Ø§Ù„Ø­Ù…ÙŠØ© Ø§Ù„ØµØ§Ø±Ù…Ø©'],
      desc: 'Ù…Ø²ÙŠØ¬ Ù…Ø«Ù„Ø¬ Ù…Ù† Ø§Ù„Ù‚Ù‡ÙˆØ© ÙˆØµÙˆØµ Ø§Ù„ÙƒØ±Ø§Ù…ÙŠÙ„ Ø§Ù„ØºÙ†ÙŠ Ù…Ø¹ ÙƒØ±ÙŠÙ…Ø© Ù…Ø®ÙÙˆÙ‚Ø© ÙØ§Ø®Ø±Ø©',
      story: 'Ø§Ù„ÙØ±Ø§Ø¨ÙŠÙ‡ â€” Ø´Ø±Ø§Ø¨ Ø§Ù„Ù…ØªØ¹Ø© â€” ÙŠØ¬Ù…Ø¹ Ø§Ù„Ø¨Ø±ÙˆØ¯Ø© ÙˆØ§Ù„Ø­Ù„Ø§ÙˆØ© ÙˆØ§Ù„Ø·Ø§Ù‚Ø© ÙÙŠ ØªÙ†Ø§ØºÙ… ØªØ§Ù…',
      moods: ['Ù…Ø±Ø­', 'Ø­Ù„Ùˆ', 'Ø§Ø­ØªÙØ§Ù„ÙŠ'],
    },
    {
      id: 'matcha-latte',
      name: 'Ù…Ø§ØªØ´Ø§ Ù„Ø§ØªÙŠÙ‡ Ø¨Ø§Ø±Ø¯',
      emoji: 'ğŸµ',
      price: 22,
      category: 'cold',
      caffeineLevel: 'Ù…Ù†Ø®ÙØ¶â€“Ù…ØªÙˆØ³Ø·',
      caffeineAmount: '30â€“60mg',
      temperature: 'cold',
      tags: ['ÙŠØ§Ø¨Ø§Ù†ÙŠ', 'ØµØ­ÙŠ', 'Ù…Ø§ØªØ´Ø§', 'Ø£Ø®Ø¶Ø±', 'Ù‡Ø¯ÙˆØ¡', 'Ù…Ù†Ø§Ø¹Ø©'],
      benefits: [
        'L-Ø«ÙŠØ§Ù†ÙŠÙ† ÙŠÙ…Ù†Ø­ ØªÙ†Ø¨Ù‡Ø§Ù‹ Ù‡Ø§Ø¯Ø¦Ø§Ù‹ Ø¯ÙˆÙ† ØªÙˆØªØ± Ø£Ùˆ Ù‚Ù„Ù‚',
        'ØºÙ†ÙŠ Ø¬Ø¯Ø§Ù‹ Ø¨Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„Ø£ÙƒØ³Ø¯Ø© (EGCG Ø§Ù„Ø£Ù‚ÙˆÙ‰ Ø·Ø¨ÙŠØ§Ù‹)',
        'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„ØªØ±ÙƒÙŠØ² Ø§Ù„Ø°Ù‡Ù†ÙŠ Ø¨Ù‡Ø¯ÙˆØ¡ ÙˆÙ…ØªÙˆØ§Ø²Ù†',
        'ÙŠÙ‚ÙˆÙŠ Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ù†Ø§Ø¹Ø© Ø¨Ø´ÙƒÙ„ Ù…Ù„Ø­ÙˆØ¸',
        'ÙŠØ­Ø§Ø±Ø¨ Ø§Ù„Ø§Ù„ØªÙ‡Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø²Ù…Ù†Ø©',
        'ÙŠØ¯Ø¹Ù… ØµØ­Ø© Ø§Ù„Ù‚Ù„Ø¨ ÙˆØ§Ù„Ø£ÙˆØ¹ÙŠØ©',
        'ÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø³Ù…ÙˆÙ… Ù…Ù† Ø§Ù„Ø¬Ø³Ù…',
      ],
      bestFor: ['Ù…Ù† ÙŠØ±ÙŠØ¯ ØªØ±ÙƒÙŠØ²Ø§Ù‹ Ù‡Ø§Ø¯Ø¦Ø§Ù‹', 'Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø·ÙˆÙŠÙ„ Ø§Ù„Ù…ØªÙˆØ§ØµÙ„', 'Ù…Ù† ÙŠØªØ­Ø§Ø´Ù‰ Ø§Ù„Ù‚Ù„Ù‚', 'Ø§Ù„ØµØ­Ø© ÙˆØ§Ù„Ø¹Ø§ÙÙŠØ©'],
      notFor: [],
      desc: 'Ù…Ø³Ø­ÙˆÙ‚ Ø§Ù„Ù…Ø§ØªØ´Ø§ Ø§Ù„ÙŠØ§Ø¨Ø§Ù†ÙŠ Ø§Ù„ÙØ§Ø®Ø± Ù…Ø¹ Ø­Ù„ÙŠØ¨ Ø¨Ø§Ø±Ø¯ ÙˆÙ…Ù†Ø¹Ø´ â€” Ø§Ù„ØµØ­Ø© ÙÙŠ Ø£Ø¬Ù…Ù„ ØµÙˆØ±Ø©',
      story: 'Ø§Ù„Ù…Ø§ØªØ´Ø§ ÙŠÙØ³ØªØ®Ø¯Ù… ÙÙŠ Ù…Ø±Ø§Ø³Ù… Ø§Ù„Ø´Ø§ÙŠ Ø§Ù„ÙŠØ§Ø¨Ø§Ù†ÙŠØ© Ù…Ù†Ø° Ø£ÙƒØ«Ø± Ù…Ù† 800 Ø¹Ø§Ù…',
      moods: ['Ù‡Ø§Ø¯Ø¦', 'ÙˆØ§Ø¹Ù', 'ØµØ­ÙŠ'],
    },
    {
      id: 'vanilla-frappe',
      name: 'ÙØ§Ù†ÙŠÙ„Ø§ ÙØ±Ø§Ø¨ÙŠÙ‡',
      emoji: 'ğŸ¦',
      price: 22,
      category: 'cold',
      caffeineLevel: 'Ù…ØªÙˆØ³Ø·',
      caffeineAmount: '60â€“90mg',
      temperature: 'cold',
      tags: ['ÙØ§Ù†ÙŠÙ„Ø§', 'Ù†Ø§Ø¹Ù…', 'Ø­Ù„Ùˆ', 'Ø«Ù„Ø¬ÙŠ', 'Ù…Ø±ÙŠØ­'],
      benefits: [
        'Ù†ÙƒÙ‡Ø© Ø§Ù„ÙØ§Ù†ÙŠÙ„Ø§ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© Ù„Ù‡Ø§ ØªØ£Ø«ÙŠØ± Ù…Ù‡Ø¯Ø¦ Ù„Ù„Ø£Ø¹ØµØ§Ø¨',
        'Ø·Ø§Ù‚Ø© Ù„Ø·ÙŠÙØ© Ù…Ù† Ø§Ù„Ù‚Ù‡ÙˆØ© Ø¯ÙˆÙ† Ø¥ÙØ±Ø§Ø·',
        'Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡ ÙˆØ§Ù„Ù‡Ø¯ÙˆØ¡',
        'ÙŠØ±ÙØ¹ Ø§Ù„Ù…Ø²Ø§Ø¬ Ø§Ù„Ø¹Ø§Ù…',
      ],
      bestFor: ['Ø§Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡', 'Ù…Ø­Ø¨ÙŠ Ø§Ù„ÙØ§Ù†ÙŠÙ„Ø§', 'Ø§Ù„Ø£Ø¬ÙˆØ§Ø¡ Ø§Ù„Ø­Ø§Ø±Ø©', 'Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©'],
      notFor: ['Ù…Ø±Ø¶Ù‰ Ø§Ù„Ø³ÙƒØ±ÙŠ', 'Ø§Ù„Ø­Ù…ÙŠØ© Ø§Ù„ØµØ§Ø±Ù…Ø©'],
      desc: 'Ù‚Ù‡ÙˆØ© Ø¨Ø§Ø±Ø¯Ø© Ù…Ø¹ Ø´Ø±Ø§Ø¨ Ø§Ù„ÙØ§Ù†ÙŠÙ„Ø§ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ ÙˆÙƒØ±ÙŠÙ…Ø© Ù…Ø®ÙÙˆÙ‚Ø© â€” Ø­Ù„Ø§ÙˆØ© Ø¨Ù„Ø§ Ø­Ø¯ÙˆØ¯',
      story: 'Ø§Ù„ÙØ§Ù†ÙŠÙ„Ø§ Ù…Ù† Ø£ØºÙ„Ù‰ Ø§Ù„ØªÙˆØ§Ø¨Ù„ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŒ ØªÙØ¶ÙÙŠ Ø¯ÙØ¦Ø§Ù‹ ÙˆÙ„Ø·ÙØ§Ù‹ Ø¹Ù„Ù‰ ÙƒÙ„ Ù…Ø´Ø±ÙˆØ¨',
      moods: ['Ù†Ø§Ø¹Ù…', 'Ø¯Ø§ÙØ¦', 'Ù…Ø±ÙŠØ­'],
    },

    // â”€â”€ Tea & Herbs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    {
      id: 'moroccan-tea',
      name: 'Ø´Ø§ÙŠ Ù…ØºØ±Ø¨ÙŠ Ø¨Ø§Ù„Ù†Ø¹Ù†Ø¹',
      emoji: 'ğŸ«–',
      price: 10,
      category: 'tea',
      caffeineLevel: 'Ù…Ù†Ø®ÙØ¶',
      caffeineAmount: '25â€“50mg',
      temperature: 'hot',
      tags: ['Ù†Ø¹Ù†Ø¹', 'Ù…ØºØ±Ø¨ÙŠ', 'Ù‡Ø¶Ù…', 'Ø§Ø³ØªØ±Ø®Ø§Ø¡', 'Ø¶ÙŠØ§ÙØ©'],
      benefits: [
        'Ø§Ù„Ù†Ø¹Ù†Ø¹ ÙŠÙ‡Ø¯Ø¦ Ø§Ù„Ù…Ø¹Ø¯Ø© ÙˆÙŠØ¹Ø§Ù„Ø¬ Ø§Ù„ØºØ«ÙŠØ§Ù† Ø¨ÙØ§Ø¹Ù„ÙŠØ©',
        'ÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø¶Ù… Ø¨Ø´ÙƒÙ„ Ù…Ù…ØªØ§Ø² Ø¨Ø¹Ø¯ Ø§Ù„ÙˆØ¬Ø¨Ø§Øª',
        'Ù…Ø¶Ø§Ø¯Ø§Øª Ø¨ÙƒØªÙŠØ±ÙŠØ© Ø·Ø¨ÙŠØ¹ÙŠØ©',
        'ÙŠØ­Ø³Ù‘Ù† Ø§Ù„ØªÙ†ÙØ³ ÙˆØµØ­Ø© Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„ØªÙ†ÙØ³ÙŠ',
        'ÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡ ÙˆØ§Ù„Ù‡Ø¯ÙˆØ¡ Ø§Ù„Ù†ÙØ³ÙŠ',
        'ÙŠØ·Ø±Ø¯ Ø§Ù„ØºØ§Ø²Ø§Øª ÙˆÙŠØ±ÙŠØ­ Ø§Ù„Ø£Ù…Ø¹Ø§Ø¡',
      ],
      bestFor: ['Ø¨Ø¹Ø¯ Ø§Ù„ÙˆØ¬Ø¨Ø§Øª Ø§Ù„Ø¯Ø³Ù…Ø©', 'Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù‡Ø¶Ù…', 'Ø§Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡ Ø§Ù„Ù…Ø³Ø§Ø¦ÙŠ', 'Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¶ÙŠÙˆÙ'],
      notFor: ['Ø§Ù„Ø±Ø¶Ø¹ ÙˆØµØºØ§Ø± Ø§Ù„Ø£Ø·ÙØ§Ù„'],
      desc: 'Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø± Ø¹Ø·Ø±ÙŠ Ù…Ø¹ Ù†Ø¹Ù†Ø¹ Ø·Ø§Ø²Ø¬ Ù…Ø­Ø¶ÙÙ‘Ø± Ø¨Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù…ØºØ±Ø¨ÙŠØ© Ø§Ù„Ø£ØµÙŠÙ„Ø©',
      story: 'Ø§Ù„Ø´Ø§ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ Ø±Ù…Ø² Ø§Ù„Ø¶ÙŠØ§ÙØ© â€” ÙŠÙÙ‚Ø¯ÙÙ‘Ù… Ø¨Ø«Ù„Ø§Ø«Ø© Ø£ÙƒÙˆØ§Ø¨: Ø§Ù„Ø£ÙˆÙ„ ÙƒØ§Ù„Ù…ÙˆØªØŒ Ø§Ù„Ø«Ø§Ù†ÙŠ ÙƒØ§Ù„Ø­ÙŠØ§Ø©ØŒ Ø§Ù„Ø«Ø§Ù„Ø« ÙƒØ§Ù„Ø­Ø¨',
      moods: ['Ù‡Ø§Ø¯Ø¦', 'Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ', 'Ù…Ø±ÙŠØ­'],
    },
    {
      id: 'chai-tea',
      name: 'ØªØ´Ø§ÙŠ Ù‡Ù†Ø¯ÙŠ',
      emoji: 'ğŸ§‹',
      price: 15,
      category: 'tea',
      caffeineLevel: 'Ù…Ù†Ø®ÙØ¶â€“Ù…ØªÙˆØ³Ø·',
      caffeineAmount: '40â€“60mg',
      temperature: 'hot',
      tags: ['Ù‡Ù†Ø¯ÙŠ', 'ØªÙˆØ§Ø¨Ù„', 'Ø¯Ø§ÙØ¦', 'Ø´ØªÙˆÙŠ', 'Ù…Ù†Ø§Ø¹Ø©', 'Ø²Ù†Ø¬Ø¨ÙŠÙ„'],
      benefits: [
        'Ø§Ù„Ù‚Ø±ÙØ© ØªÙ†Ø¸Ù‘Ù… Ø³ÙƒØ± Ø§Ù„Ø¯Ù… Ø¨ÙØ§Ø¹Ù„ÙŠØ©',
        'Ø§Ù„Ø²Ù†Ø¬Ø¨ÙŠÙ„ ÙŠÙ‚Ø§ÙˆÙ… Ø§Ù„Ø§Ù„ØªÙ‡Ø§Ø¨Ø§Øª ÙˆÙŠØ³Ø®Ù‘Ù† Ø§Ù„Ø¬Ø³Ù…',
        'Ø§Ù„Ù‡ÙŠÙ„ ÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø¶Ù… Ø§Ù„Ø¬ÙŠØ¯',
        'Ø§Ù„Ù‚Ø±Ù†ÙÙ„ Ù…Ø¶Ø§Ø¯ Ø·Ø¨ÙŠØ¹ÙŠ Ù„Ù„Ø¨ÙƒØªÙŠØ±ÙŠØ§',
        'ÙŠÙ‚ÙˆÙŠ Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ù†Ø§Ø¹Ø© ÙÙŠ ÙØµÙ„ Ø§Ù„Ø´ØªØ§Ø¡',
        'ÙŠØ®ÙÙ Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„Ø²ÙƒØ§Ù… ÙˆØ§Ù„Ø±Ø´Ø­',
      ],
      bestFor: ['ÙØµÙ„ Ø§Ù„Ø´ØªØ§Ø¡', 'Ø§Ù„Ø²ÙƒØ§Ù… ÙˆØ§Ù„Ø±Ø´Ø­', 'ØªÙ‚ÙˆÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø¹Ø©', 'Ø§Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡', 'Ø¨Ø¯ÙŠÙ„ Ø§Ù„Ù‚Ù‡ÙˆØ©'],
      notFor: ['Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ© Ù…Ù† Ø§Ù„ØªÙˆØ§Ø¨Ù„'],
      desc: 'Ù…Ø²ÙŠØ¬ Ø¯Ø§ÙØ¦ Ù…Ù† Ø§Ù„Ø´Ø§ÙŠ Ø§Ù„Ø£Ø³ÙˆØ¯ ÙˆØ§Ù„Ø­Ù„ÙŠØ¨ ÙˆØªÙˆØ§Ø¨Ù„ Ø§Ù„Ù‡Ù†Ø¯ (Ø²Ù†Ø¬Ø¨ÙŠÙ„ØŒ Ù‚Ø±ÙØ©ØŒ Ù‡ÙŠÙ„ØŒ Ù‚Ø±Ù†ÙÙ„)',
      story: 'Ø§Ù„ØªØ´Ø§ÙŠ Ù„Ù‡ ØªØ§Ø±ÙŠØ® Ø·Ø¨ÙŠ Ø¹Ø±ÙŠÙ‚ ÙÙŠ Ø§Ù„Ø·Ø¨ Ø§Ù„Ø¢ÙŠÙˆØ±ÙÙŠØ¯ÙŠ Ø§Ù„Ù‡Ù†Ø¯ÙŠ ÙŠÙ…ØªØ¯ Ù„Ø¢Ù„Ø§Ù Ø§Ù„Ø³Ù†ÙŠÙ†',
      moods: ['Ø¯Ø§ÙØ¦', 'Ù…Ø±ÙŠØ­', 'Ø¹Ù„Ø§Ø¬ÙŠ'],
    },
    {
      id: 'hibiscus',
      name: 'ÙƒØ±ÙƒØ¯ÙŠÙ‡ Ø¨Ø§Ø±Ø¯',
      emoji: 'ğŸŒº',
      price: 12,
      category: 'tea',
      caffeineLevel: 'Ø¨Ø¯ÙˆÙ† ÙƒØ§ÙÙŠÙŠÙ†',
      caffeineAmount: '0mg',
      temperature: 'cold',
      tags: ['ÙƒØ±ÙƒØ¯ÙŠÙ‡', 'Ø¨Ø¯ÙˆÙ† ÙƒØ§ÙÙŠÙŠÙ†', 'Ø¶ØºØ· Ø¯Ù…', 'ØµØ­ÙŠ', 'Ø±Ø¬ÙŠÙ…', 'ÙÙŠØªØ§Ù…ÙŠÙ† C'],
      benefits: [
        'ÙŠØ®ÙØ¶ Ø¶ØºØ· Ø§Ù„Ø¯Ù… Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ â€” Ù…ÙˆØ«Ù‘Ù‚ Ø¹Ù„Ù…ÙŠØ§Ù‹',
        'ØºÙ†ÙŠ Ø¬Ø¯Ø§Ù‹ Ø¨ÙÙŠØªØ§Ù…ÙŠÙ† C Ø£ÙƒØ«Ø± Ù…Ù† Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„',
        'Ù‚ÙˆØ© Ø¹Ø§Ù„ÙŠØ© Ù…Ù† Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„Ø£ÙƒØ³Ø¯Ø©',
        'ÙŠØ®ÙØ¶ Ø§Ù„ÙƒÙˆÙ„ÙŠØ³ØªØ±ÙˆÙ„ Ø§Ù„Ø¶Ø§Ø±',
        'ÙŠØ¯Ø¹Ù… ØµØ­Ø© Ø§Ù„ÙƒØ¨Ø¯',
        'ÙŠØ³Ø§Ø¹Ø¯ ÙÙŠ Ø¥Ù†Ù‚Ø§Øµ Ø§Ù„ÙˆØ²Ù†',
        'Ù…Ù†Ø§Ø³Ø¨ Ù„Ù…Ø±Ø¶Ù‰ Ø§Ù„Ø³ÙƒØ±ÙŠ',
      ],
      bestFor: ['Ø§Ø±ØªÙØ§Ø¹ Ø¶ØºØ· Ø§Ù„Ø¯Ù…', 'Ø§Ù„Ø­Ù…ÙŠØ© ÙˆØ§Ù„Ø±ÙŠØ¬ÙŠÙ…', 'Ø§Ù„ØµÙŠÙ', 'Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…', 'Ù…Ù† ÙŠØªØ¬Ù†Ø¨ Ø§Ù„ÙƒØ§ÙÙŠÙŠÙ†'],
      notFor: ['Ù…Ù† ÙŠØ£Ø®Ø° Ø£Ø¯ÙˆÙŠØ© Ø¶ØºØ· Ø§Ù„Ø¯Ù… (Ø§Ø³ØªØ´Ø± Ø·Ø¨ÙŠØ¨Ùƒ Ø£ÙˆÙ„Ø§Ù‹)'],
      desc: 'ÙƒØ±ÙƒØ¯ÙŠÙ‡ Ù…ÙØ¨Ø±ÙÙ‘Ø¯ Ø¨Ù„ÙˆÙ† Ø£Ø­Ù…Ø± ÙŠØ§Ù‚ÙˆØªÙŠ Ø¬Ù…ÙŠÙ„ ÙˆØ·Ø¹Ù… Ù„Ø§Ø°Ø¹ Ù…Ù†Ø¹Ø´ â€” ØµÙŠØ¯Ù„ÙŠØ© Ø·Ø¨ÙŠØ¹ÙŠØ©',
      story: 'Ø§Ù„ÙƒØ±ÙƒØ¯ÙŠÙ‡ ÙŠÙØ²Ø±Ø¹ ÙÙŠ Ø§Ù„Ø³ÙˆØ¯Ø§Ù† ÙˆÙ…ØµØ± ÙˆÙŠÙØ³ØªØ®Ø¯Ù… Ø·Ø¨ÙŠØ§Ù‹ Ù…Ù†Ø° Ø¢Ù„Ø§Ù Ø§Ù„Ø³Ù†ÙŠÙ†',
      moods: ['ØµØ­ÙŠ', 'Ù…Ù†Ø¹Ø´', 'Ø·Ø¨ÙŠØ¹ÙŠ'],
    },
    {
      id: 'green-tea',
      name: 'Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø± ÙŠØ§Ø¨Ø§Ù†ÙŠ',
      emoji: 'ğŸƒ',
      price: 12,
      category: 'tea',
      caffeineLevel: 'Ù…Ù†Ø®ÙØ¶',
      caffeineAmount: '25â€“50mg',
      temperature: 'hot',
      tags: ['ÙŠØ§Ø¨Ø§Ù†ÙŠ', 'ØµØ­ÙŠ', 'Ø±Ø´Ø§Ù‚Ø©', 'Ù…Ø¶Ø§Ø¯Ø§Øª Ø£ÙƒØ³Ø¯Ø©', 'Ø·ÙˆÙŠÙ„ Ø§Ù„Ø£Ù…Ø¯', 'ÙˆÙ‚Ø§ÙŠØ©'],
      benefits: [
        'Ø£Ø¹Ù„Ù‰ ØªØ±ÙƒÙŠØ² Ù…Ù† Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„Ø£ÙƒØ³Ø¯Ø© Ø¨ÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª',
        'L-Ø«ÙŠØ§Ù†ÙŠÙ† ÙŠÙ…Ù†Ø­ ØªØ±ÙƒÙŠØ²Ø§Ù‹ Ù‡Ø§Ø¯Ø¦Ø§Ù‹ ÙˆÙ…Ø³ØªØ¯Ø§Ù…Ø§Ù‹',
        'ÙŠØ­ÙÙ‘Ø² Ø­Ø±Ù‚ Ø§Ù„Ø¯Ù‡ÙˆÙ† ÙˆÙŠØ³Ø±Ù‘Ø¹ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø£ÙŠØ¶',
        'ÙŠÙ‚Ù„Ù„ Ø®Ø·Ø± Ø§Ù„Ø£Ù…Ø±Ø§Ø¶ Ø§Ù„Ù…Ø²Ù…Ù†Ø© ÙˆØ§Ù„Ø³Ø±Ø·Ø§Ù†',
        'ÙŠØ®ÙØ¶ Ø§Ù„ÙƒÙˆÙ„ÙŠØ³ØªØ±ÙˆÙ„ ÙˆÙŠØ¯Ø¹Ù… ØµØ­Ø© Ø§Ù„Ù‚Ù„Ø¨',
        'ÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ ØªÙ†Ø¸ÙŠÙ… Ø³ÙƒØ± Ø§Ù„Ø¯Ù…',
        'ÙŠØ­Ø³Ù‘Ù† ØµØ­Ø© Ø§Ù„Ø£Ø³Ù†Ø§Ù† ÙˆØ§Ù„Ù„Ø«Ø©',
      ],
      bestFor: ['Ø§Ù„ØµØ­Ø© Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ§Ù„ÙˆÙ‚Ø§ÙŠØ©', 'Ø§Ù„Ø±Ø´Ø§Ù‚Ø© ÙˆØ§Ù„Ø­Ù…ÙŠØ©', 'Ø¨Ø¯ÙŠÙ„ Ø§Ù„Ù‚Ù‡ÙˆØ©', 'Ø§Ù„Ù‡Ø¯ÙˆØ¡ ÙˆØ§Ù„ØªØ£Ù…Ù„', 'Ù‚Ø¨Ù„ Ø§Ù„ØªÙ…Ø±ÙŠÙ†'],
      notFor: ['Ø§Ù„Ø­Ø§Ù…Ù„ Ø¨ÙƒÙ…ÙŠØ§Øª ÙƒØ¨ÙŠØ±Ø©'],
      desc: 'Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø± ÙŠØ§Ø¨Ø§Ù†ÙŠ ÙØ§Ø®Ø± ØºÙ†ÙŠ Ø¨Ø§Ù„ÙƒØ§ØªÙŠÙƒÙŠÙ† ÙˆÙ…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„Ø£ÙƒØ³Ø¯Ø© â€” ØµØ­ØªÙƒ ÙÙŠ ÙƒÙ„ ÙƒÙˆØ¨',
      story: 'Ø§Ù„Ø´Ø§ÙŠ Ø§Ù„Ø£Ø®Ø¶Ø± ÙŠÙØ¹ØªØ¨Ø± Ø³Ø± Ø·ÙˆÙ„ Ø¹Ù…Ø± Ø§Ù„ÙŠØ§Ø¨Ø§Ù†ÙŠÙŠÙ† â€” ÙŠÙ†Ù…Ùˆ ÙÙŠ Ù…Ù†Ø§Ø·Ù‚ Ø¬Ø¨Ù„ÙŠØ© ÙØ§Ø®Ø±Ø©',
      moods: ['ØµØ­ÙŠ', 'Ù‡Ø§Ø¯Ø¦', 'Ø·Ø¨ÙŠØ¹ÙŠ'],
    },
  ],

  /* â”€â”€ Topic Knowledge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  topics: {
    caffeine_table: `â˜• **Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠÙŠÙ† ÙÙŠ Ù…Ø´Ø±ÙˆØ¨Ø§ØªÙ†Ø§:**

| Ø§Ù„Ù…Ø´Ø±ÙˆØ¨ | Ø§Ù„ÙƒØ§ÙÙŠÙŠÙ† |
|---------|---------|
| Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ù…Ø¶Ø§Ø¹Ù | 126mg (Ø§Ù„Ø£Ø¹Ù„Ù‰) |
| Ø¯Ø§Ø±Ùƒ Ø±ÙˆØ³Øª | 100â€“130mg |
| Ø£Ù…Ø±ÙŠÙƒØ§Ù†Ùˆ / Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ | 63â€“120mg |
| Ù‚Ù‡ÙˆØ© Ø¹Ø±Ø¨ÙŠØ© / ØªØ±ÙƒÙŠØ© | 60â€“80mg |
| Ù‚Ù‡ÙˆØ© Ø¨Ø§Ø±Ø¯Ø© / ÙØ±Ø§Ø¨ÙŠÙ‡ | 60â€“90mg |
| ØªØ´Ø§ÙŠ Ù‡Ù†Ø¯ÙŠ | 40â€“60mg |
| Ù…Ø§ØªØ´Ø§ / Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø± | 25â€“60mg |
| Ø´Ø§ÙŠ Ù…ØºØ±Ø¨ÙŠ | 25â€“50mg |
| ÙƒØ±ÙƒØ¯ÙŠÙ‡ | 0mg âœ… |

ğŸ’¡ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø¢Ù…Ù† Ù„Ù„ÙƒØ§ÙÙŠÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù‡Ùˆ 400mg Ù„Ù„Ø¨Ø§Ù„ØºÙŠÙ† Ø§Ù„Ø£ØµØ­Ø§Ø¡.`,

    no_caffeine: `ğŸŒ¿ **Ù…Ø´Ø±ÙˆØ¨Ø§ØªÙ†Ø§ Ø§Ù„Ø®Ø§Ù„ÙŠØ© Ù…Ù† Ø§Ù„ÙƒØ§ÙÙŠÙŠÙ† Ø£Ùˆ Ø§Ù„Ù…Ù†Ø®ÙØ¶Ø© Ø¬Ø¯Ø§Ù‹:**

âœ… **Ø¨Ø¯ÙˆÙ† ÙƒØ§ÙÙŠÙŠÙ† ØªÙ…Ø§Ù…Ø§Ù‹:**
- **ÙƒØ±ÙƒØ¯ÙŠÙ‡ Ø¨Ø§Ø±Ø¯** â€” Ø£Ø¬Ù…Ù„ Ø®ÙŠØ§Ø± ØµØ­ÙŠØŒ ÙŠØ®ÙØ¶ Ø§Ù„Ø¶ØºØ·

âœ… **ÙƒØ§ÙÙŠÙŠÙ† Ù…Ù†Ø®ÙØ¶ Ø¬Ø¯Ø§Ù‹ (Ø¢Ù…Ù†):**
- **Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø± ÙŠØ§Ø¨Ø§Ù†ÙŠ** â€” 25â€“50mg ÙÙ‚Ø·
- **Ø´Ø§ÙŠ Ù…ØºØ±Ø¨ÙŠ Ø¨Ø§Ù„Ù†Ø¹Ù†Ø¹** â€” 25â€“50mg

ğŸ’¡ Ù‡Ù„ ØªØªØ¬Ù†Ø¨ Ø§Ù„ÙƒØ§ÙÙŠÙŠÙ† Ù„Ø£Ø³Ø¨Ø§Ø¨ ØµØ­ÙŠØ© Ø£Ùˆ Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù†ÙˆÙ…ØŸ Ø£Ø®Ø¨Ø±Ù†ÙŠ Ø£ÙƒØ«Ø± Ù„Ø£ÙˆØµÙŠ Ù„Ùƒ Ø¨Ø§Ù„Ø£ÙØ¶Ù„!`,

    health_best: `ğŸŒ¿ **Ø£ØµØ­ Ø®Ù…Ø³Ø© Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ù„Ø¯ÙŠÙ‘Ù†Ø§ (Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨):**

1. ğŸƒ **Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø± ÙŠØ§Ø¨Ø§Ù†ÙŠ** â€” Ø£ØºÙ†Ù‰ Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¨Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„Ø£ÙƒØ³Ø¯Ø©
2. ğŸµ **Ù…Ø§ØªØ´Ø§ Ù„Ø§ØªÙŠÙ‡** â€” ØªØ±ÙƒÙŠØ² Ù‡Ø§Ø¯Ø¦ + Ù…Ù†Ø§Ø¹Ø© Ù‚ÙˆÙŠØ©
3. ğŸŒº **ÙƒØ±ÙƒØ¯ÙŠÙ‡ Ø¨Ø§Ø±Ø¯** â€” ÙŠØ®ÙØ¶ Ø§Ù„Ø¶ØºØ·ØŒ ÙŠÙ‚ÙˆÙŠ Ø§Ù„ÙƒØ¨Ø¯ØŒ ÙÙŠØªØ§Ù…ÙŠÙ† C Ø¹Ø§Ù„Ù
4. ğŸŒ¸ **Ù‚Ù‡ÙˆØ© Ø¨Ø§Ù„Ø²Ø¹ÙØ±Ø§Ù†** â€” ÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ù…Ø²Ø§Ø¬ ÙˆØ§Ù„Ø°Ø§ÙƒØ±Ø©
5. ğŸ§‹ **ØªØ´Ø§ÙŠ Ù‡Ù†Ø¯ÙŠ** â€” Ù…Ø¶Ø§Ø¯ Ø§Ù„ØªÙ‡Ø§Ø¨Ø§Øª Ø·Ø¨ÙŠØ¹ÙŠ Ù…Ù† Ø§Ù„ØªÙˆØ§Ø¨Ù„

ÙƒÙ„ Ù…Ø´Ø±ÙˆØ¨Ø§ØªÙ†Ø§ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙÙˆØ§Ø¦Ø¯! Ø£Ø®Ø¨Ø±Ù†ÙŠ Ø£ÙƒØ«Ø± Ø¹Ù† Ø­Ø§Ù„ØªÙƒ Ù„Ø£ÙˆØµÙŠ Ø¨Ø§Ù„Ø£Ù†Ø³Ø¨ Ù„Ùƒ.`,

    weight_loss: `âš–ï¸ **Ø£ÙØ¶Ù„ Ù…Ø´Ø±ÙˆØ¨Ø§ØªÙ†Ø§ Ù„Ø¯Ø¹Ù… Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ­ÙŠ:**

âœ… **Ø§Ù„Ø£ÙØ¶Ù„ Ù„Ù„Ø­Ù…ÙŠØ©:**
- **Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø± ÙŠØ§Ø¨Ø§Ù†ÙŠ** â€” ÙŠØ³Ø±Ù‘Ø¹ Ø§Ù„Ø£ÙŠØ¶ ÙˆÙŠØ­Ø±Ù‚ Ø§Ù„Ø¯Ù‡ÙˆÙ†
- **ÙƒØ±ÙƒØ¯ÙŠÙ‡ Ø¨Ø§Ø±Ø¯** â€” 0 ÙƒØ§ÙÙŠÙŠÙ†ØŒ ÙŠØ¯Ø¹Ù… ÙÙ‚Ø¯Ø§Ù† Ø§Ù„ÙˆØ²Ù†
- **Ø£Ù…Ø±ÙŠÙƒØ§Ù†Ùˆ / Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ** â€” Ø¨Ø¯ÙˆÙ† Ø³Ø¹Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©

âš ï¸ **ÙŠÙÙØ¶ÙÙ‘Ù„ ØªØ¬Ù†Ù‘Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø­Ù…ÙŠØ©:**
- Ø§Ù„ÙØ±Ø§Ø¨ÙŠÙ‡ (ÙƒØ±Ø§Ù…ÙŠÙ„/ÙØ§Ù†ÙŠÙ„Ø§) â€” Ø³Ø¹Ø±Ø§Øª Ø­Ø±Ø§Ø±ÙŠØ© Ø¹Ø§Ù„ÙŠØ©
- Ø§Ù„Ù…ÙˆÙƒØ§ â€” Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ© ÙˆÙƒØ±ÙŠÙ…Ø©
- Ø§Ù„ØªØ´Ø§ÙŠ Ù…Ø¹ Ø§Ù„Ø³ÙƒØ± Ø§Ù„Ù…Ø¶Ø§Ù

ğŸ’¡ Ø§Ù„Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ ÙŠØ²ÙŠØ¯ Ù…Ø¹Ø¯Ù„ Ø­Ø±Ù‚ Ø§Ù„Ø¯Ù‡ÙˆÙ† Ø¨Ù†Ø³Ø¨Ø© 11â€“13% ÙˆÙÙ‚ Ø§Ù„Ø£Ø¨Ø­Ø§Ø«!`,

    sleep_drinks: `ğŸ˜´ **ØªÙˆØµÙŠØ§ØªÙ†Ø§ Ù„Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…:**

âœ… **Ø¢Ù…Ù†Ø© Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…:**
- **ÙƒØ±ÙƒØ¯ÙŠÙ‡ Ø¨Ø§Ø±Ø¯** â€” Ø¨Ø¯ÙˆÙ† ÙƒØ§ÙÙŠÙŠÙ†ØŒ ÙŠØ±ÙŠØ­ Ø§Ù„Ø£Ø¹ØµØ§Ø¨
- **Ø´Ø§ÙŠ Ù…ØºØ±Ø¨ÙŠ** â€” Ø§Ù„Ù†Ø¹Ù†Ø¹ Ù…Ù‡Ø¯Ø¦ Ø®ÙÙŠÙ
- **Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø±** (ÙƒÙ…ÙŠØ© ØµØºÙŠØ±Ø©) â€” ÙƒØ§ÙÙŠÙŠÙ† Ù…Ù†Ø®ÙØ¶ Ø¬Ø¯Ø§Ù‹

âš ï¸ **ØªØ¬Ù†Ù‘Ø¨ Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ… Ø¨Ù€6 Ø³Ø§Ø¹Ø§Øª:**
- Ø§Ù„Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ø§Ù„Ù…Ø¶Ø§Ø¹Ù ÙˆØ§Ù„Ø¯Ø§Ø±Ùƒ Ø±ÙˆØ³Øª
- Ø§Ù„ÙƒØ§Ø¨ØªØ´ÙŠÙ†Ùˆ ÙˆØ§Ù„Ø£Ù…Ø±ÙŠÙƒØ§Ù†Ùˆ
- Ø£ÙŠ Ù…Ø´Ø±ÙˆØ¨ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£ÙƒØ«Ø± Ù…Ù† 100mg ÙƒØ§ÙÙŠÙŠÙ†

ğŸ’¡ Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ø¯ÙØ¦Ø§Ù‹ ÙˆÙ…ØªØ¹Ø© Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…ØŒ Ø§Ù„Ø´Ø§ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ Ø®ÙŠØ§Ø±Ùƒ Ø§Ù„Ø£Ù…Ø«Ù„!`,

    morning_drinks: `â˜€ï¸ **Ø£ÙØ¶Ù„ Ù…Ø´Ø±ÙˆØ¨Ø§ØªÙ†Ø§ Ù„Ø¨Ø¯Ø§ÙŠØ© ÙŠÙˆÙ…Ùƒ:**

ğŸ† **Ø§Ù„Ø£ÙØ¶Ù„ Ù„Ù„ØµØ¨Ø§Ø­:**
1. â˜• **Ù‚Ù‡ÙˆØ© Ø¹Ø±Ø¨ÙŠØ© Ø£ØµÙŠÙ„Ø©** â€” Ø·Ø§Ù‚Ø© Ù…ØªÙˆØ§Ø²Ù†Ø© + ØªÙ‚Ù„ÙŠØ¯ Ø£ØµÙŠÙ„
2. â˜• **Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ù…ÙØ±Ø¯** â€” Ø§Ù†Ø·Ù„Ø§Ù‚ Ø³Ø±ÙŠØ¹ ÙˆÙ…Ø±ÙƒÙ‘Ø²
3. ğŸ¥› **ÙƒØ§ÙÙŠÙ‡ Ù„Ø§ØªÙŠÙ‡** â€” Ù†Ø§Ø¹Ù… ÙˆÙ…ØºØ°Ù Ù…Ø¹ Ø§Ù„Ø­Ù„ÙŠØ¨
4. ğŸ§‹ **ØªØ´Ø§ÙŠ Ù‡Ù†Ø¯ÙŠ** â€” Ù„Ù…Ù† ÙŠÙØ¶Ù„ Ø§Ù„Ø´Ø§ÙŠ Ù…Ø¹ Ø·Ø§Ù‚Ø© Ø§Ù„ØªÙˆØ§Ø¨Ù„

ğŸ’¡ Ù†ØµÙŠØ­Ø© Ù…Ù‡Ù…Ø©: Ù„Ø§ ØªØ´Ø±Ø¨ Ø§Ù„Ù‚Ù‡ÙˆØ© Ø¹Ù„Ù‰ Ù…Ø¹Ø¯Ø© ÙØ§Ø±ØºØ© ØªÙ…Ø§Ù…Ø§Ù‹ â€” ØªÙ†Ø§ÙˆÙ„ Ø´ÙŠØ¦Ø§Ù‹ Ø®ÙÙŠÙØ§Ù‹ Ø£ÙˆÙ„Ø§Ù‹ Ù„ØªØ¬Ù†Ø¨ Ø­Ù…ÙˆØ¶Ø© Ø§Ù„Ù…Ø¹Ø¯Ø©!`,

    anxiety_drinks: `ğŸ§˜ **Ø£ÙØ¶Ù„ Ù…Ø´Ø±ÙˆØ¨Ø§ØªÙ†Ø§ Ù„Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡ ÙˆØªØ®ÙÙŠÙ Ø§Ù„ØªÙˆØªØ±:**

âœ… **Ù…Ø±ÙŠØ­Ø© Ù„Ù„Ø£Ø¹ØµØ§Ø¨:**
- **Ø´Ø§ÙŠ Ù…ØºØ±Ø¨ÙŠ Ø¨Ø§Ù„Ù†Ø¹Ù†Ø¹** â€” Ù…Ù‡Ø¯Ø¦ Ø·Ø¨ÙŠØ¹ÙŠ Ø±Ø§Ø¦Ø¹
- **ÙƒØ±ÙƒØ¯ÙŠÙ‡ Ø¨Ø§Ø±Ø¯** â€” ÙŠØ®ÙØ¶ Ø§Ù„Ù‚Ù„Ù‚ ÙˆØ§Ù„Ø¶ØºØ· Ø§Ù„Ù†ÙØ³ÙŠ
- **Ù…Ø§ØªØ´Ø§ Ù„Ø§ØªÙŠÙ‡** â€” ØªÙ†Ø¨Ù‘Ù‡ Ù‡Ø§Ø¯Ø¦ Ø¨Ø¯ÙˆÙ† ØªÙˆØªØ±
- **ØªØ´Ø§ÙŠ Ù‡Ù†Ø¯ÙŠ** â€” Ø§Ù„Ø²Ù†Ø¬Ø¨ÙŠÙ„ ÙˆØ§Ù„Ù‚Ø±ÙØ© Ù…Ù‡Ø¯Ø¦Ø§Ù†

âš ï¸ **ØªØ¬Ù†Ù‘Ø¨ ÙÙŠ Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù‚Ù„Ù‚ Ø§Ù„Ø´Ø¯ÙŠØ¯:**
- Ø§Ù„Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ø§Ù„Ù…Ø¶Ø§Ø¹Ù
- Ø§Ù„Ø¯Ø§Ø±Ùƒ Ø±ÙˆØ³Øª ÙˆØ£ÙŠ Ù…Ø´Ø±ÙˆØ¨ ÙÙˆÙ‚ 100mg ÙƒØ§ÙÙŠÙŠÙ†

ğŸ’¡ Ø³Ø±Ù‘ Ø§Ù„Ù…Ø§ØªØ´Ø§: ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ L-Ø«ÙŠØ§Ù†ÙŠÙ† Ø§Ù„Ø°ÙŠ ÙŠÙ…Ù†Ø­ ØªÙ†Ø¨Ù‡Ø§Ù‹ Ø¯ÙˆÙ† Ù‚Ù„Ù‚ â€” Ù…Ù…ÙŠØ² Ø¬Ø¯Ø§Ù‹!`,
  },
};

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   2. STORAGE MANAGER
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

const StorageManager = {
  HISTORY_KEY: 'abuHissan_chatHistory',
  PREFS_KEY:   'abuHissan_userPrefs',
  APIKEY_KEY:  'abuHissan_openaiKey',

  saveHistory(messages) {
    try {
      // Keep only last 60 messages to avoid storage bloat
      const trimmed = messages.slice(-60);
      localStorage.setItem(this.HISTORY_KEY, JSON.stringify(trimmed));
    } catch (_) { /* storage full â€” ignore */ }
  },

  loadHistory() {
    try {
      return JSON.parse(localStorage.getItem(this.HISTORY_KEY) || '[]');
    } catch (_) { return []; }
  },

  savePrefs(prefs) {
    try {
      localStorage.setItem(this.PREFS_KEY, JSON.stringify(prefs));
    } catch (_) {}
  },

  loadPrefs() {
    try {
      return JSON.parse(localStorage.getItem(this.PREFS_KEY) || '{}');
    } catch (_) { return {}; }
  },

  saveApiKey(key) {
    try { localStorage.setItem(this.APIKEY_KEY, key); } catch (_) {}
  },

  loadApiKey() {
    try { return localStorage.getItem(this.APIKEY_KEY) || ''; } catch (_) { return ''; }
  },

  clearAll() {
    localStorage.removeItem(this.HISTORY_KEY);
    localStorage.removeItem(this.PREFS_KEY);
  },
};

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   3. CONVERSATION ENGINE (NLP Pattern Matching + Knowledge Base Search)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

const BotEngine = {
  userPrefs: StorageManager.loadPrefs(),

  /* Save a learned preference */
  learnPref(key, value) {
    this.userPrefs[key] = value;
    StorageManager.savePrefs(this.userPrefs);
  },

  /* â”€â”€ Intent detection patterns â”€â”€ */
  intents: [
    // Greetings
    {
      id: 'greeting',
      patterns: ['Ù…Ø±Ø­Ø¨Ø§', 'Ø§Ù‡Ù„Ø§', 'Ø£Ù‡Ù„Ø§', 'Ø§Ù„Ø³Ù„Ø§Ù…', 'Ù‡Ø§ÙŠ', 'Ù‡Ù„Ø§', 'hi', 'hello', 'hey', 'ØµØ¨Ø§Ø­', 'Ù…Ø³Ø§Ø¡'],
      handler: () => BotEngine.greet(),
    },
    // Caffeine info
    {
      id: 'caffeine',
      patterns: ['ÙƒØ§ÙÙŠÙŠÙ†', 'ØªÙ†Ø¨Ù‘Ù‡', 'ØªÙ†Ø¨Ù‡', 'ÙŠÙ†Ø´Ù‘Ø·', 'ÙŠÙ†Ø´Ø·', 'ÙŠØµØ­ÙŠÙ†ÙŠ', 'ÙŠØµØ­Ù‘ÙŠÙ†ÙŠ', 'ÙŠÙˆÙ‚Ø¸Ù†ÙŠ', 'ÙŠÙ‚Ù„Ù„ Ø§Ù„Ù†ÙˆÙ…'],
      handler: () => DrinksKB.topics.caffeine_table,
    },
    // No caffeine
    {
      id: 'no_caffeine',
      patterns: ['Ø¨Ø¯ÙˆÙ† ÙƒØ§ÙÙŠÙŠÙ†', 'Ø¨Ù„Ø§ ÙƒØ§ÙÙŠÙŠÙ†', 'Ø®Ø§Ù„ÙŠ Ù…Ù†', 'Ø¨Ø¯ÙˆÙ† Ù‚Ù‡ÙˆØ©', 'Ù„Ø§ Ø£Ø´Ø±Ø¨ Ù‚Ù‡ÙˆØ©', 'Ù…Ø§ Ø£Ø´Ø±Ø¨ Ù‚Ù‡ÙˆØ©', 'Ù…Ø§ ÙŠØ­ØªÙˆÙŠ ÙƒØ§ÙÙŠÙŠÙ†'],
      handler: () => DrinksKB.topics.no_caffeine,
    },
    // Health
    {
      id: 'health',
      patterns: ['ØµØ­ÙŠ', 'ØµØ­Ø©', 'ÙØ§Ø¦Ø¯Ø©', 'ÙÙˆØ§Ø¦Ø¯', 'ÙŠÙÙŠØ¯', 'ÙŠØ³Ø§Ø¹Ø¯', 'Ø£ÙØ¶Ù„ Ù„Ù„ØµØ­Ø©', 'Ù…Ø¶Ø§Ø¯Ø§Øª Ø£ÙƒØ³Ø¯Ø©', 'ØµØ­ÙŠØ­'],
      handler: () => DrinksKB.topics.health_best,
    },
    // Weight loss
    {
      id: 'weight',
      patterns: ['Ø±Ø¬ÙŠÙ…', 'ØªØ®Ø³ÙŠØ³', 'Ø§Ù†Ù‚Ø§Øµ ÙˆØ²Ù†', 'Ø¥Ù†Ù‚Ø§Øµ', 'Ø­Ù…ÙŠØ©', 'Ø¯Ø§ÙŠØª', 'diet', 'Ø­Ø±Ù‚ Ø¯Ù‡ÙˆÙ†', 'ÙˆØ²Ù†', 'Ù†Ø­Ø§ÙØ©', 'Ø³Ø¹Ø±Ø§Øª'],
      handler: () => DrinksKB.topics.weight_loss,
    },
    // Sleep
    {
      id: 'sleep',
      patterns: ['Ù†ÙˆÙ…', 'Ø£Ø±Ù‚', 'Ø³Ù‡Ø±', 'ØªØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙˆÙ…', 'Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…', 'Ù…Ø§ ÙŠØ£Ø«Ø± Ø¹Ù„Ù‰ Ù†ÙˆÙ…', 'Ù„ÙŠÙ„'],
      handler: () => DrinksKB.topics.sleep_drinks,
    },
    // Morning
    {
      id: 'morning',
      patterns: ['ØµØ¨Ø§Ø­', 'Ø§Ù„ØµØ¨Ø­', 'Ø£ÙˆÙ„ Ø§Ù„ÙŠÙˆÙ…', 'Ø§Ø³ØªÙŠÙ‚Ø¸', 'ØµØ­ÙŠØª', 'Ø¨Ø¯Ø§ÙŠØ© ÙŠÙˆÙ…', 'ØµØ¨Ø§Ø­ÙŠ'],
      handler: () => DrinksKB.topics.morning_drinks,
    },
    // Anxiety / stress
    {
      id: 'anxiety',
      patterns: ['Ù‚Ù„Ù‚', 'ØªÙˆØªØ±', 'Ù†Ø±ÙØ²Ø©', 'Ø¹ØµØ¨ÙŠ', 'Ø¹ØµØ¨ÙŠØ©', 'Ø¶ØºÙˆØ·', 'Ø±ÙŠÙ„Ø§ÙƒØ³', 'Ø§Ø³ØªØ±Ø®Ø§Ø¡', 'Ù‡Ø¯ÙˆØ¡', 'Ù…Ø±Ù‡Ù‚', 'ØªØ¹Ø¨Ø§Ù† Ù†ÙØ³ÙŠØ§Ù‹'],
      handler: () => DrinksKB.topics.anxiety_drinks,
    },
    // Price
    {
      id: 'price',
      patterns: ['Ø³Ø¹Ø±', 'ÙƒÙ… ÙŠÙƒÙ„Ù', 'Ø¨ÙƒÙ…', 'Ø£Ø³Ø¹Ø§Ø±', 'Ø±ÙŠØ§Ù„', 'ØªÙƒÙ„ÙØ©'],
      handler: () => BotEngine.showPrices(),
    },
    // Recommendation
    {
      id: 'recommend',
      patterns: ['Ø£Ù†ØµØ­Ù†ÙŠ', 'Ø§Ù†ØµØ­Ù†ÙŠ', 'Ø£ÙˆØµÙŠÙ„ÙŠ', 'ØªÙˆØµÙŠØ©', 'Ù…Ø§Ø°Ø§ Ø£Ø·Ù„Ø¨', 'Ø§Ø®ØªØ§Ø±Ù„ÙŠ', 'Ù…Ø§ Ø§Ù„Ø£ÙØ¶Ù„', 'ÙˆØ´ ØªÙ†ØµØ­', 'ÙˆØ´ Ø£Ø´Ø±Ø¨', 'Ø§ÙŠØ´ Ø§Ø·Ù„Ø¨'],
      handler: (msg) => BotEngine.recommend(msg),
    },
    // Cold drinks
    {
      id: 'cold',
      patterns: ['Ø¨Ø§Ø±Ø¯', 'Ø¨Ø§Ø±Ø¯Ø©', 'Ø«Ù„Ø¬', 'Ø«Ù„Ø¬ÙŠ', 'Ù…Ø«Ù„Ø¬', 'Ù…Ø¨Ø±Ø¯', 'ÙƒÙˆÙ„Ø¯', 'cold', 'Ø¥ÙŠØ³'],
      handler: () => BotEngine.filterByTemp('cold'),
    },
    // Hot drinks
    {
      id: 'hot',
      patterns: ['Ø³Ø§Ø®Ù†', 'Ø³Ø§Ø®Ù†Ø©', 'Ø­Ø§Ø±', 'Ø¯Ø§ÙØ¦', 'Ù‡ÙˆØª', 'hot'],
      handler: () => BotEngine.filterByTemp('hot'),
    },
    // Specific drink by name
    {
      id: 'drink_lookup',
      patterns: [], // handled separately via drink name search
      handler: null,
    },
    // List menu
    {
      id: 'menu',
      patterns: ['Ù‚Ø§Ø¦Ù…Ø©', 'Ù…Ù†ÙŠÙˆ', 'menu', 'ÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª', 'Ù…Ø§Ø°Ø§ Ø¹Ù†Ø¯ÙƒÙ…', 'ÙˆØ´ Ø¹Ù†Ø¯ÙƒÙ…', 'Ù‚Ø§Ø¦Ù…ØªÙƒÙ…', 'Ø§Ù„Ø£ØµÙ†Ø§Ù'],
      handler: () => BotEngine.showMenu(),
    },
    // Settings / API key
    {
      id: 'api_key',
      patterns: ['api key', 'Ù…ÙØªØ§Ø­', 'openai', 'chatgpt', 'Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ', 'ai Ø­Ù‚ÙŠÙ‚ÙŠ'],
      handler: () => BotEngine.askForApiKey(),
    },
    // Clear history
    {
      id: 'clear',
      patterns: ['Ø§Ø­Ø°Ù', 'Ø§Ù…Ø³Ø­', 'Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©', 'Ø­Ø°Ù', 'Ø§Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯', 'ØªØµÙÙŠØ±'],
      handler: () => BotEngine.clearChat(),
    },
    // Thanks
    {
      id: 'thanks',
      patterns: ['Ø´ÙƒØ±Ø§', 'Ø´ÙƒØ±Ø§Ù‹', 'Ù…Ù…Ù†ÙˆÙ†', 'Ù…Ø´ÙƒÙˆØ±', 'thanks', 'thank you', 'ÙŠØ¹Ø·ÙŠÙƒ Ø§Ù„Ø¹Ø§ÙÙŠØ©'],
      handler: () => 'Ø§Ù„Ø¹ÙÙˆ! ğŸ˜Š ÙŠØ³Ø¹Ø¯Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø¯Ø§Ø¦Ù…Ø§Ù‹. Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø¹Ø±ÙØ© Ø´ÙŠØ¡ Ø¢Ø®Ø± Ø¹Ù† Ù…Ø´Ø±ÙˆØ¨Ø§ØªÙ†Ø§ØŸ',
    },
    // Goodbye
    {
      id: 'bye',
      patterns: ['Ù…Ø¹ Ø§Ù„Ø³Ù„Ø§Ù…Ø©', 'Ø¨Ø§ÙŠ', 'ÙˆØ¯Ø§Ø¹Ø§Ù‹', 'bye', 'goodbye', 'Ø³Ù„Ø§Ù…'],
      handler: () => 'Ù…Ø¹ Ø§Ù„Ø³Ù„Ø§Ù…Ø©! â˜• Ù†ØªØ´Ø±Ù Ø¨Ø®Ø¯Ù…ØªÙƒ Ø¯Ø§Ø¦Ù…Ø§Ù‹ ÙÙŠ Ù‚Ù‡ÙˆØ© Ø£Ø¨Ùˆ Ø­ØµØ§Ù†.',
    },
  ],

  /* â”€â”€ Greet â”€â”€ */
  greet() {
    const name = this.userPrefs.name;
    const greets = [
      `Ø£Ù‡Ù„Ø§Ù‹ ÙˆØ³Ù‡Ù„Ø§Ù‹${name ? ' ' + name : ''}! â˜•\n\nØ£Ù†Ø§ Ù…Ø³ØªØ´Ø§Ø±Ùƒ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª ÙÙŠ Ù‚Ù‡ÙˆØ© Ø£Ø¨Ùˆ Ø­ØµØ§Ù†.\n\nÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ:\nâ€¢ ğŸ¯ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¨ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ùƒ\nâ€¢ ğŸ’ª Ù…Ø¹Ø±ÙØ© ÙÙˆØ§Ø¦Ø¯ ÙƒÙ„ Ù…Ø´Ø±ÙˆØ¨\nâ€¢ âš¡ Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠÙŠÙ†\nâ€¢ âš–ï¸ Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø­Ù…ÙŠØ© ÙˆØ§Ù„ØµØ­Ø©\nâ€¢ ğŸ˜´ Ù…Ø§ ÙŠÙ†Ø§Ø³Ø¨Ùƒ Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…\n\nÙ…Ø§ Ø§Ù„Ø°ÙŠ ØªØ¨Ø­Ø« Ø¹Ù†Ù‡ Ø§Ù„ÙŠÙˆÙ…ØŸ`,
    ];
    return greets[0];
  },

  /* â”€â”€ Show prices â”€â”€ */
  showPrices() {
    let msg = 'ğŸ’° **Ø£Ø³Ø¹Ø§Ø±Ù†Ø§ Ø§Ù„ÙƒØ§Ù…Ù„Ø©:**\n\n';
    const cats = {
      arabic: 'â˜• Ø§Ù„Ù‚Ù‡ÙˆØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©',
      espresso: 'ğŸ«™ Ø§Ù„Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ ÙˆØ§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø³Ø§Ø®Ù†Ø©',
      cold: 'ğŸ§Š Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø¨Ø§Ø±Ø¯Ø©',
      tea: 'ğŸµ Ø§Ù„Ø´Ø§ÙŠ ÙˆØ§Ù„Ø£Ø¹Ø´Ø§Ø¨',
    };
    for (const [catId, catName] of Object.entries(cats)) {
      const items = DrinksKB.drinks.filter(d => d.category === catId);
      msg += `**${catName}:**\n`;
      items.forEach(d => { msg += `${d.emoji} ${d.name} â€” ${d.price} Ø±ÙŠØ§Ù„\n`; });
      msg += '\n';
    }
    msg += 'ğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø·Ù„Ø¨ Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† [Ø§Ù„Ù…ØªØ¬Ø±](market.html)!';
    return msg;
  },

  /* â”€â”€ Show menu categories â”€â”€ */
  showMenu() {
    return `ğŸ“‹ **Ù‚Ø§Ø¦Ù…Ø© Ù…Ø´Ø±ÙˆØ¨Ø§ØªÙ†Ø§ Ø§Ù„ÙƒØ§Ù…Ù„Ø©:**

â˜• **Ø§Ù„Ù‚Ù‡ÙˆØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©** (4 Ø£ØµÙ†Ø§Ù)
Ù‚Ù‡ÙˆØ© Ø¹Ø±Ø¨ÙŠØ© â€¢ Ø²Ø¹ÙØ±Ø§Ù† â€¢ Ø¯Ø§Ø±Ùƒ Ø±ÙˆØ³Øª â€¢ ØªØ±ÙƒÙŠØ©

ğŸ«™ **Ø§Ù„Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ ÙˆØ§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø³Ø§Ø®Ù†Ø©** (7 Ø£ØµÙ†Ø§Ù)
Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ù…ÙØ±Ø¯/Ù…Ø¶Ø§Ø¹Ù â€¢ Ù„Ø§ØªÙŠÙ‡ â€¢ ÙƒØ§Ø¨ØªØ´ÙŠÙ†Ùˆ â€¢ Ù…ÙˆÙƒØ§ â€¢ Ø£Ù…Ø±ÙŠÙƒØ§Ù†Ùˆ â€¢ ÙÙ„Ø§Øª ÙˆØ§ÙŠØª

ğŸ§Š **Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø¨Ø§Ø±Ø¯Ø©** (4 Ø£ØµÙ†Ø§Ù)
Ù‚Ù‡ÙˆØ© Ø¨Ø§Ø±Ø¯Ø© â€¢ ÙØ±Ø§Ø¨ÙŠÙ‡ ÙƒØ±Ø§Ù…ÙŠÙ„ â€¢ Ù…Ø§ØªØ´Ø§ Ù„Ø§ØªÙŠÙ‡ Ø¨Ø§Ø±Ø¯ â€¢ ÙØ§Ù†ÙŠÙ„Ø§ ÙØ±Ø§Ø¨ÙŠÙ‡

ğŸµ **Ø§Ù„Ø´Ø§ÙŠ ÙˆØ§Ù„Ø£Ø¹Ø´Ø§Ø¨** (4 Ø£ØµÙ†Ø§Ù)
Ø´Ø§ÙŠ Ù…ØºØ±Ø¨ÙŠ â€¢ ØªØ´Ø§ÙŠ Ù‡Ù†Ø¯ÙŠ â€¢ ÙƒØ±ÙƒØ¯ÙŠÙ‡ â€¢ Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø± ÙŠØ§Ø¨Ø§Ù†ÙŠ

Ø§Ø³Ø£Ù„Ù†ÙŠ Ø¹Ù† Ø£ÙŠ Ù…Ø´Ø±ÙˆØ¨ Ù„Ø£Ø®Ø¨Ø±Ùƒ Ø¨ÙÙˆØ§Ø¦Ø¯Ù‡ ÙˆØªÙØ§ØµÙŠÙ„Ù‡!`;
  },

  /* â”€â”€ Filter by temperature â”€â”€ */
  filterByTemp(temp) {
    const drinks = DrinksKB.drinks.filter(d => d.temperature === temp);
    const label = temp === 'cold' ? 'ğŸ§Š Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø¨Ø§Ø±Ø¯Ø©' : 'â™¨ï¸ Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø³Ø§Ø®Ù†Ø©';
    let msg = `**${label} Ù„Ø¯ÙŠÙ‘Ù†Ø§:**\n\n`;
    drinks.forEach(d => {
      msg += `${d.emoji} **${d.name}** â€” ${d.price} Ø±ÙŠØ§Ù„\n`;
      msg += `   â”— ${d.desc}\n\n`;
    });
    return msg;
  },

  /* â”€â”€ Smart recommendation â”€â”€ */
  recommend(userMsg) {
    const msg = userMsg.toLowerCase();
    let matched = [];

    // Keyword-to-drink mapping
    const keywordMap = [
      { keywords: ['ØªØ¹Ø¨', 'Ø®Ù…ÙˆÙ„', 'Ù…Ø§ Ø£Ù‚Ø¯Ø± Ø£ØµØ­Ù‰', 'ÙƒØ³Ù„Ø§Ù†', 'ØªÙ†Ø¨Ù‡', 'ØµØ­Ù‰'], ids: ['espresso-double', 'dark-roast', 'americano'] },
      { keywords: ['Ù‚Ù„Ù‚', 'ØªÙˆØªØ±', 'Ø¹ØµØ¨ÙŠ'], ids: ['moroccan-tea', 'matcha-latte', 'hibiscus'] },
      { keywords: ['Ø±Ø¬ÙŠÙ…', 'ØªØ®Ø³ÙŠØ³', 'Ø¯Ø§ÙŠØª', 'ÙˆØ²Ù†'], ids: ['green-tea', 'hibiscus', 'americano'] },
      { keywords: ['Ù…Ø²Ø§Ø¬', 'Ø­Ø²ÙŠÙ†', 'Ø²Ù‡Ù‚Ø§Ù†'], ids: ['mocha', 'saffron-coffee', 'caramel-frappe'] },
      { keywords: ['ØµØ­ÙŠ', 'ØµØ­Ø©', 'Ù…Ù†Ø§Ø¹Ø©'], ids: ['green-tea', 'matcha-latte', 'chai-tea'] },
      { keywords: ['Ø¨Ø§Ø±Ø¯', 'Ø­Ø±', 'ØµÙŠÙ'], ids: ['iced-coffee', 'matcha-latte', 'hibiscus', 'caramel-frappe'] },
      { keywords: ['Ø´ØªØ§', 'Ø¨Ø§Ø±Ø¯ Ø§Ù„Ø¬Ùˆ', 'Ø¯Ø§ÙØ¦'], ids: ['chai-tea', 'saffron-coffee', 'moroccan-tea'] },
      { keywords: ['ØµØ¨Ø§Ø­', 'Ø§Ù„ØµØ¨Ø­'], ids: ['arabic-coffee', 'espresso-single', 'latte'] },
      { keywords: ['Ù…Ø³Ø§Ø¡', 'Ù„ÙŠÙ„'], ids: ['moroccan-tea', 'hibiscus', 'green-tea'] },
      { keywords: ['Ø¶ÙŠÙˆÙ', 'Ø¶ÙŠÙ', 'Ø¹Ø²ÙˆÙ…Ø©'], ids: ['arabic-coffee', 'saffron-coffee', 'moroccan-tea'] },
      { keywords: ['Ø­Ù„Ùˆ', 'Ø­Ù„Ø§', 'Ø³ÙˆÙŠØª'], ids: ['mocha', 'caramel-frappe', 'vanilla-frappe'] },
      { keywords: ['Ù…Ø¨ØªØ¯Ø¦', 'Ù…Ø§ Ø£Ø´Ø±Ø¨ Ù‚Ù‡ÙˆØ©', 'Ø¬Ø¯ÙŠØ¯'], ids: ['latte', 'cappuccino', 'chai-tea'] },
      { keywords: ['Ø¶ØºØ· Ø¯Ù…', 'Ø¶ØºØ·'], ids: ['hibiscus', 'green-tea', 'moroccan-tea'] },
      { keywords: ['Ø³ÙƒØ±', 'Ù…Ø±Ø¶', 'Ø³ÙƒØ±ÙŠ'], ids: ['hibiscus', 'green-tea', 'americano'] },
      { keywords: ['Ø´ØºÙ„', 'Ø¯Ø±Ø§Ø³Ø©', 'ØªØ±ÙƒÙŠØ²', 'Ø¯ÙˆØ§Ù…'], ids: ['espresso-single', 'americano', 'matcha-latte'] },
    ];

    for (const map of keywordMap) {
      if (map.keywords.some(k => msg.includes(k))) {
        matched = map.ids;
        break;
      }
    }

    if (!matched.length) {
      // Default: top-rated variety
      matched = ['arabic-coffee', 'matcha-latte', 'chai-tea'];
    }

    const recs = matched.map(id => DrinksKB.drinks.find(d => d.id === id)).filter(Boolean);
    let response = 'âœ¨ **ØªÙˆØµÙŠØ§ØªÙŠ Ù„Ùƒ:**\n\n';
    recs.forEach((d, i) => {
      response += `${i + 1}. ${d.emoji} **${d.name}** â€” ${d.price} Ø±ÙŠØ§Ù„\n`;
      response += `   ${d.desc}\n`;
      response += `   âœ… Ø§Ù„Ø£ÙØ¶Ù„ Ù„Ù€: ${d.bestFor.slice(0, 2).join('ØŒ ')}\n\n`;
    });
    response += 'Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø£ÙŠ Ù…Ø´Ø±ÙˆØ¨ Ù„Ø£Ø®Ø¨Ø±Ùƒ Ø¨ØªÙØ§ØµÙŠÙ„Ù‡ Ø§Ù„ÙƒØ§Ù…Ù„Ø© ÙˆÙÙˆØ§Ø¦Ø¯Ù‡!';
    return response;
  },

  /* â”€â”€ Lookup a specific drink by name â”€â”€ */
  lookupDrink(query) {
    const q = query.toLowerCase();
    const drink = DrinksKB.drinks.find(d =>
      d.name.toLowerCase().includes(q) ||
      (d.nameEn && d.nameEn.toLowerCase().includes(q)) ||
      d.tags.some(t => t.toLowerCase().includes(q))
    );
    if (!drink) return null;

    let msg = `${drink.emoji} **${drink.name}** â€” ${drink.price} Ø±ÙŠØ§Ù„\n\n`;
    msg += `ğŸ“ *${drink.desc}*\n\n`;
    msg += `âš¡ **Ø§Ù„ÙƒØ§ÙÙŠÙŠÙ†:** ${drink.caffeineLevel} (${drink.caffeineAmount})\n`;
    msg += `ğŸŒ¡ï¸ **Ø§Ù„Ø­Ø±Ø§Ø±Ø©:** ${drink.temperature === 'hot' ? 'Ø³Ø§Ø®Ù† â™¨ï¸' : 'Ø¨Ø§Ø±Ø¯ ğŸ§Š'}\n\n`;
    msg += `ğŸ’š **Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„ØµØ­ÙŠØ©:**\n`;
    drink.benefits.forEach(b => { msg += `â€¢ ${b}\n`; });
    msg += `\nğŸ¯ **Ø§Ù„Ø£ÙØ¶Ù„ Ù„Ù€:** ${drink.bestFor.join('ØŒ ')}\n`;
    if (drink.notFor.length) {
      msg += `âš ï¸ **ÙŠÙØªØ¬Ù†Ù‘Ø¨ ÙÙŠ Ø­Ø§Ù„Ø©:** ${drink.notFor.join('ØŒ ')}\n`;
    }
    msg += `\nğŸ“– *${drink.story}*`;
    return msg;
  },

  /* â”€â”€ Ask for API key â”€â”€ */
  askForApiKey() {
    return `ğŸ¤– **ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ (OpenAI):**

Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨ÙˆØª Ø¥Ù„Ù‰ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ ÙŠØ¬ÙŠØ¨ Ø¹Ù„Ù‰ Ø£ÙŠ Ø³Ø¤Ø§Ù„ Ø¹Ù† Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¨Ø´ÙƒÙ„ Ø£Ø¹Ù…Ù‚ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ù…ÙØªØ§Ø­ OpenAI API:

Ø§ÙƒØªØ¨: **Ù…ÙØªØ§Ø­: sk-xxxxxxx** (Ø¶Ø¹ Ù…ÙØªØ§Ø­Ùƒ Ø¨Ø¹Ø¯ ÙƒÙ„Ù…Ø© "Ù…ÙØªØ§Ø­:")

Ø³ÙŠÙØ­ÙØ¸ Ø§Ù„Ù…ÙØªØ§Ø­ ÙÙŠ Ù…ØªØµÙØ­Ùƒ ÙˆÙ„Ù† ÙŠÙØ´Ø§Ø±ÙÙƒ Ù…Ø¹ Ø£Ø­Ø¯.

ğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙØªØ§Ø­ Ù…Ø¬Ø§Ù†ÙŠ Ù…Ù†: platform.openai.com`;
  },

  /* â”€â”€ Clear chat â”€â”€ */
  clearChat() {
    StorageManager.clearAll();
    return 'ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© âœ“ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯!';
  },

  /* â”€â”€ Main process function â”€â”€ */
  async process(userMessage, history) {
    const msg = userMessage.trim();
    if (!msg) return null;

    // Check if user is providing an API key
    const apiKeyMatch = msg.match(/Ù…ÙØªØ§Ø­[:\s]+(\S+)/i) || msg.match(/key[:\s]+(sk-\S+)/i);
    if (apiKeyMatch) {
      const key = apiKeyMatch[1];
      StorageManager.saveApiKey(key);
      return `âœ… ØªÙ… Ø­ÙØ¸ Ù…ÙØªØ§Ø­ OpenAI Ø¨Ù†Ø¬Ø§Ø­!\n\nØ³Ø£Ø³ØªØ®Ø¯Ù…Ù‡ Ø§Ù„Ø¢Ù† Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø£Ø³Ø¦Ù„ØªÙƒ Ø¨Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ. Ø¬Ø±Ù‘Ø¨ Ø£Ù† ØªØ³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø³Ø¤Ø§Ù„!`;
    }

    // If OpenAI key exists, use it
    const apiKey = StorageManager.loadApiKey();
    if (apiKey && apiKey.startsWith('sk-')) {
      try {
        const aiResponse = await this.callOpenAI(msg, history, apiKey);
        if (aiResponse) return aiResponse;
      } catch (e) {
        console.warn('OpenAI call failed, falling back to built-in engine:', e.message);
      }
    }

    // â”€â”€ Built-in NLP engine â”€â”€

    // 1. Try specific drink lookup first
    const drinkAnswer = this.lookupDrink(msg);
    if (drinkAnswer) return drinkAnswer;

    // 2. Try intent matching
    for (const intent of this.intents) {
      if (!intent.patterns.length) continue;
      const matched = intent.patterns.some(p => msg.includes(p));
      if (matched && intent.handler) {
        const result = intent.handler(msg);
        return result;
      }
    }

    // 3. Fuzzy fallback â€” check for any drink-related word
    const drinkWords = ['Ù‚Ù‡ÙˆØ©', 'Ø´Ø§ÙŠ', 'Ø¹ØµÙŠØ±', 'Ù…Ø´Ø±ÙˆØ¨', 'Ù…Ø§ØªØ´Ø§', 'ÙƒØ±ÙƒØ¯ÙŠÙ‡', 'Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ', 'espresso', 'coffee', 'tea', 'latte', 'mocha'];
    if (drinkWords.some(w => msg.includes(w))) {
      return this.recommend(msg);
    }

    // 4. Default fallback
    return `Ù„Ù… Ø£ÙÙ‡Ù… Ø³Ø¤Ø§Ù„Ùƒ ØªÙ…Ø§Ù…Ø§Ù‹ ğŸ¤”\n\nÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ:\nâ€¢ Ø§Ø³Ø£Ù„Ù†ÙŠ Ø¹Ù† **Ø§Ø³Ù… Ù…Ø´Ø±ÙˆØ¨** Ù…Ø­Ø¯Ø¯\nâ€¢ **Ø£Ù†ØµØ­Ù†ÙŠ** Ø¨Ù…Ø´Ø±ÙˆØ¨ Ù…Ù†Ø§Ø³Ø¨ Ù„Ø­Ø§Ù„ØªÙƒ\nâ€¢ ÙÙˆØ§Ø¦Ø¯ **ØµØ­Ø©** Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª\nâ€¢ **ÙƒØ§ÙÙŠÙŠÙ†** ÙˆÙ…Ø³ØªÙˆÙŠØ§ØªÙ‡\nâ€¢ Ù…Ø´Ø±ÙˆØ¨Ø§Øª **Ø§Ù„Ø±Ø¬ÙŠÙ…** Ø£Ùˆ **Ø§Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡**\n\nÙ…Ø§ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ù…Ø¹Ø±ÙØªÙ‡ØŸ`;
  },

  /* â”€â”€ OpenAI API call â”€â”€ */
  async callOpenAI(userMessage, history, apiKey) {
    const systemPrompt = `Ø£Ù†Øª Ù…Ø³ØªØ´Ø§Ø± Ø°ÙƒÙŠ Ù…ØªØ®ØµØµ ÙÙŠ Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ù‚Ù‡ÙˆØ© Ø£Ø¨Ùˆ Ø­ØµØ§Ù†. ØªØªØ­Ø¯Ø« Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø´ÙƒÙ„ ÙˆØ¯ÙˆØ¯ ÙˆØªØ®Ø¨Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¨ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª ÙˆØªÙˆØµÙŠØ§ØªÙƒ.

Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©:
${DrinksKB.drinks.map(d => `- ${d.name} (${d.price} Ø±ÙŠØ§Ù„): ${d.desc}. Ø§Ù„ÙÙˆØ§Ø¦Ø¯: ${d.benefits.join(', ')}`).join('\n')}

Ø£Ø¬Ø¨ Ø¨Ø§Ø®ØªØµØ§Ø± ÙˆØ¨Ø´ÙƒÙ„ Ù…ÙÙŠØ¯. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø¨Ø´ÙƒÙ„ Ù…Ø¹ØªØ¯Ù„. Ù„Ø§ ØªØ®ØªÙ„Ù‚ Ø£Ø³Ø¹Ø§Ø±Ø§Ù‹ Ø£Ùˆ Ù…Ø´Ø±ÙˆØ¨Ø§Øª ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©.`;

    const messages = [
      { role: 'system', content: systemPrompt },
      ...history.slice(-10).map(h => ({ role: h.role, content: h.content })),
      { role: 'user', content: userMessage },
    ];

    const response = await fetch('https://api.openai.com/v1/chat/completions', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${apiKey}`,
      },
      body: JSON.stringify({
        model: 'gpt-3.5-turbo',
        messages,
        max_tokens: 500,
        temperature: 0.7,
      }),
    });

    if (!response.ok) {
      throw new Error(`OpenAI error: ${response.status}`);
    }

    const data = await response.json();
    return data.choices?.[0]?.message?.content || null;
  },
};

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   4. CHAT UI
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

(function initChatbot() {
  /* â”€â”€ Inject HTML â”€â”€ */
  const html = `
  <div id="chat-fab" aria-label="ÙØªØ­ Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª" title="Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø°ÙƒÙŠ" role="button" tabindex="0">
    <span class="chat-fab__icon">â˜•</span>
    <span class="chat-fab__badge" id="chat-badge" aria-hidden="true"></span>
  </div>

  <div id="chat-window" role="dialog" aria-label="Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø°ÙƒÙŠ" aria-hidden="true">
    <div class="chat-header">
      <div class="chat-header__info">
        <span class="chat-header__avatar">â˜•</span>
        <div>
          <div class="chat-header__name">Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª</div>
          <div class="chat-header__status">
            <span class="chat-status-dot"></span>
            Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†
          </div>
        </div>
      </div>
      <div class="chat-header__actions">
        <button id="chat-clear-btn" title="Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©" aria-label="Ù…Ø³Ø­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©">ğŸ—‘ï¸</button>
        <button id="chat-close-btn" title="Ø¥ØºÙ„Ø§Ù‚" aria-label="Ø¥ØºÙ„Ø§Ù‚">âœ•</button>
      </div>
    </div>

    <div class="chat-messages" id="chat-messages" role="log" aria-live="polite"></div>

    <div class="chat-suggestions" id="chat-suggestions">
      <button class="chat-suggestion" data-msg="Ø£Ù†ØµØ­Ù†ÙŠ Ø¨Ù…Ø´Ø±ÙˆØ¨ Ù…Ù†Ø§Ø³Ø¨">ğŸ’¡ Ø£Ù†ØµØ­Ù†ÙŠ</button>
      <button class="chat-suggestion" data-msg="Ù…Ø§ Ø£ØµØ­ Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§ØªØŸ">ğŸŒ¿ Ø§Ù„Ø£ØµØ­ ØµØ­ÙŠØ§Ù‹</button>
      <button class="chat-suggestion" data-msg="Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø±Ø¬ÙŠÙ…">âš–ï¸ Ø§Ù„Ø±Ø¬ÙŠÙ…</button>
      <button class="chat-suggestion" data-msg="Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠÙŠÙ†">âš¡ Ø§Ù„ÙƒØ§ÙÙŠÙŠÙ†</button>
    </div>

    <div class="chat-input-area">
      <input
        type="text"
        id="chat-input"
        class="chat-input"
        placeholder="Ø§Ø³Ø£Ù„Ù†ÙŠ Ø¹Ù† Ø£ÙŠ Ù…Ø´Ø±ÙˆØ¨..."
        autocomplete="off"
        aria-label="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ"
        maxlength="300"
      />
      <button id="chat-send-btn" class="chat-send-btn" aria-label="Ø¥Ø±Ø³Ø§Ù„">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <line x1="22" y1="2" x2="11" y2="13"></line>
          <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
        </svg>
      </button>
    </div>
  </div>
  `;

  const wrapper = document.createElement('div');
  wrapper.innerHTML = html;
  document.body.appendChild(wrapper);

  /* â”€â”€ Elements â”€â”€ */
  const fab       = document.getElementById('chat-fab');
  const chatWin   = document.getElementById('chat-window');
  const closeBtn  = document.getElementById('chat-close-btn');
  const clearBtn  = document.getElementById('chat-clear-btn');
  const messagesEl= document.getElementById('chat-messages');
  const inputEl   = document.getElementById('chat-input');
  const sendBtn   = document.getElementById('chat-send-btn');
  const badge     = document.getElementById('chat-badge');

  /* â”€â”€ State â”€â”€ */
  let isOpen    = false;
  let isTyping  = false;
  let history   = StorageManager.loadHistory(); // [{role, content, time}]

  /* â”€â”€ Open / Close â”€â”€ */
  function openChat() {
    isOpen = true;
    chatWin.classList.add('open');
    chatWin.setAttribute('aria-hidden', 'false');
    fab.classList.add('active');
    badge.textContent = '';
    renderHistory();
    scrollBottom();
    setTimeout(() => inputEl.focus(), 300);
  }

  function closeChat() {
    isOpen = false;
    chatWin.classList.remove('open');
    chatWin.setAttribute('aria-hidden', 'true');
    fab.classList.remove('active');
  }

  fab.addEventListener('click', () => isOpen ? closeChat() : openChat());
  fab.addEventListener('keydown', e => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); isOpen ? closeChat() : openChat(); } });
  closeBtn.addEventListener('click', closeChat);

  clearBtn.addEventListener('click', () => {
    history = [];
    StorageManager.saveHistory(history);
    messagesEl.innerHTML = '';
    showWelcome();
  });

  /* â”€â”€ Render full history â”€â”€ */
  function renderHistory() {
    messagesEl.innerHTML = '';
    if (!history.length) {
      showWelcome();
      return;
    }
    history.forEach(m => appendBubble(m.role, m.content, m.time, false));
  }

  /* â”€â”€ Show welcome message â”€â”€ */
  function showWelcome() {
    const welcome = `Ø£Ù‡Ù„Ø§Ù‹! â˜• Ø£Ù†Ø§ Ù…Ø³ØªØ´Ø§Ø±Ùƒ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª ÙÙŠ **Ù‚Ù‡ÙˆØ© Ø£Ø¨Ùˆ Ø­ØµØ§Ù†**.\n\nÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø§Ø®ØªÙŠØ§Ø± Ø£ÙØ¶Ù„ Ù…Ø´Ø±ÙˆØ¨ØŒ ÙˆÙ…Ø¹Ø±ÙØ© ÙÙˆØ§Ø¦Ø¯Ù‡ Ø§Ù„ØµØ­ÙŠØ©ØŒ ÙˆÙ…Ø³ØªÙˆÙ‰ Ø§Ù„ÙƒØ§ÙÙŠÙŠÙ† ÙÙŠÙ‡.\n\nÙ…Ø§Ø°Ø§ ØªØ±ÙŠØ¯ Ø£Ù† ØªØ¹Ø±ÙØŸ`;
    appendBubble('assistant', welcome, null, true);
  }

  /* â”€â”€ Append a message bubble â”€â”€ */
  function appendBubble(role, content, time, save) {
    const isBot = role === 'assistant';
    const div = document.createElement('div');
    div.className = `chat-msg chat-msg--${isBot ? 'bot' : 'user'}`;

    const timeStr = time || new Date().toLocaleTimeString('ar-SA', { hour: '2-digit', minute: '2-digit' });

    div.innerHTML = `
      ${isBot ? `<span class="chat-msg__avatar">â˜•</span>` : ''}
      <div class="chat-msg__bubble">
        <div class="chat-msg__text">${markdownToHtml(content)}</div>
        <div class="chat-msg__time">${timeStr}</div>
      </div>
    `;

    messagesEl.appendChild(div);
    scrollBottom();

    if (save) {
      history.push({ role, content, time: timeStr });
      StorageManager.saveHistory(history);
    }
  }

  /* â”€â”€ Typing indicator â”€â”€ */
  function showTyping() {
    const div = document.createElement('div');
    div.className = 'chat-msg chat-msg--bot chat-typing';
    div.id = 'chat-typing-indicator';
    div.innerHTML = `
      <span class="chat-msg__avatar">â˜•</span>
      <div class="chat-msg__bubble">
        <div class="typing-dots">
          <span></span><span></span><span></span>
        </div>
      </div>
    `;
    messagesEl.appendChild(div);
    scrollBottom();
  }

  function hideTyping() {
    const el = document.getElementById('chat-typing-indicator');
    if (el) el.remove();
  }

  /* â”€â”€ Scroll to bottom â”€â”€ */
  function scrollBottom() {
    requestAnimationFrame(() => {
      messagesEl.scrollTop = messagesEl.scrollHeight;
    });
  }

  /* â”€â”€ Simple markdown â†’ HTML â”€â”€ */
  function markdownToHtml(text) {
    return text
      .replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')
      .replace(/\*(.+?)\*/g, '<em>$1</em>')
      .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank" rel="noopener">$1</a>')
      .replace(/\n/g, '<br>');
  }

  /* â”€â”€ Send message â”€â”€ */
  async function sendMessage(text) {
    const msg = (text || inputEl.value).trim();
    if (!msg || isTyping) return;

    inputEl.value = '';
    appendBubble('user', msg, null, true);
    hideSuggestions();

    isTyping = true;
    sendBtn.disabled = true;
    showTyping();

    // Small delay to feel natural
    await new Promise(r => setTimeout(r, 600 + Math.random() * 600));

    const response = await BotEngine.process(msg, history);
    hideTyping();
    isTyping = false;
    sendBtn.disabled = false;

    if (response) {
      appendBubble('assistant', response, null, true);
      // Show badge if window closed
      if (!isOpen) {
        badge.textContent = '1';
      }
    }

    inputEl.focus();
  }

  /* â”€â”€ Events â”€â”€ */
  sendBtn.addEventListener('click', () => sendMessage());

  inputEl.addEventListener('keydown', e => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      sendMessage();
    }
  });

  /* Quick suggestion chips */
  document.querySelectorAll('.chat-suggestion').forEach(btn => {
    btn.addEventListener('click', () => {
      if (!isOpen) openChat();
      sendMessage(btn.dataset.msg);
    });
  });

  function hideSuggestions() {
    const sug = document.getElementById('chat-suggestions');
    if (sug) sug.style.display = 'none';
  }

  /* Show badge when page loads after a delay (if no history) */
  if (!history.length) {
    setTimeout(() => {
      if (!isOpen) {
        badge.textContent = '1';
        fab.classList.add('pulse-attention');
      }
    }, 4000);
  }

  // Hover state for cursor (if cursor exists)
  const hoverSel = 'a, button, .product-card, .menu-item, .feature-card, .filter-tab, .add-btn, .nav__link, #chat-fab, .chat-suggestion, .chat-send-btn';
  fab.addEventListener('mouseover', () => document.body.classList.add('cursor-hover'));
  fab.addEventListener('mouseout',  () => document.body.classList.remove('cursor-hover'));
})();
